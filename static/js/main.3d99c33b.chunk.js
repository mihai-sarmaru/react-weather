(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{103:function(e,t,a){},13:function(e,t,a){"use strict";var n;!function(e){e[e.PRECIPITATION_CHANCE=0]="PRECIPITATION_CHANCE",e[e.WIND=1]="WIND",e[e.UV_INDEX=2]="UV_INDEX",e[e.CLOUD_COVER=3]="CLOUD_COVER",e[e.PRESSURE=4]="PRESSURE",e[e.HUMIDITY=5]="HUMIDITY",e[e.DEW_POINT=6]="DEW_POINT",e[e.VISIBILITY=7]="VISIBILITY",e[e.SUNRISE=8]="SUNRISE",e[e.SUNSET=9]="SUNSET"}(n||(n={})),t.a=n},141:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(1),i=a.n(r),c=a(11),s=a.n(c),o=(a(103),a(15)),l=a(142),u=function(){return Object(n.jsx)("div",{style:{margin:"50px 0"},children:Object(n.jsx)(l.a,{})})},d=a(92),j=a(175),h=a(143),b=a(32),g=a(9),p=a(66),x=a(18),O=a(176),m=a(63),f=a(178),v=a(179),y=a(180),w=a(171),I=a(177),z=a(24),E="CHANGE_LANGUAGE",S=new Map;S.set("loading","Fetching weather"),S.set("nav-now","Now"),S.set("nav-hourly","Hourly"),S.set("nav-later","Later"),S.set("current-feels","Feels like"),S.set("detail-chance","Chance"),S.set("detail-wind","Wind speed"),S.set("detail-uv","UV Index"),S.set("detail-cloud","Cloud cover"),S.set("detail-pressure","Pressure"),S.set("detail-humidity","Humidity"),S.set("detail-dew","Dew point"),S.set("detail-visibility","Visibility"),S.set("detail-sunrise","Sunrise"),S.set("detail-sunset","Sunset"),S.set("chart-tooltip-temperature","Temperature"),S.set("chart-tooltip-wind","Wind speed"),S.set("chart-tooltip-precipitation","Precipitation"),S.set("chart-axis-now","Now"),S.set("chart-axis-24","24h"),S.set("chart-axis-48","48h"),S.set("toggle-more","More"),S.set("toggle-less","Less"),S.set("options-lang-title","Weather language"),S.set("options-lang-en","English"),S.set("options-lang-ro","Romanian");var N={language:S,weekArray:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],selected:z.a.ENGLISH},T=new Map;T.set("loading","Se incarca vremea"),T.set("nav-now","Acum"),T.set("nav-hourly","Urmeaza"),T.set("nav-later","Viitor"),T.set("current-feels","Se simte"),T.set("detail-chance","Sanse"),T.set("detail-wind","Vant"),T.set("detail-uv","Index UV"),T.set("detail-cloud","Acoperire"),T.set("detail-pressure","Presiune"),T.set("detail-humidity","Umiditate"),T.set("detail-dew","Condens"),T.set("detail-visibility","Visibilitate"),T.set("detail-sunrise","Rasarit"),T.set("detail-sunset","Apus"),T.set("chart-tooltip-temperature","Temperatura"),T.set("chart-tooltip-wind","Vant"),T.set("chart-tooltip-precipitation","Precipitatie"),T.set("chart-axis-now","Acum"),T.set("chart-axis-24","24 ore"),T.set("chart-axis-48","48 ore"),T.set("toggle-more","Mai Mult"),T.set("toggle-less","Mai Putin"),T.set("options-lang-title","Schimba limba"),T.set("options-lang-en","Engleza"),T.set("options-lang-ro","Romana");var A={language:T,weekArray:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],selected:z.a.ROMANIAN},W=function(e){return{type:E,language:"english"===e?N:A}},R=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language})),t=Object(x.c)();return Object(n.jsx)("div",{style:{width:"70%",margin:"10px auto"},children:Object(n.jsxs)(f.a,{component:"fieldset",children:[Object(n.jsx)(v.a,{component:"legend",children:e.language.get("options-lang-title")}),Object(n.jsxs)(y.a,{"aria-label":"language",name:"language",value:e.selected,onChange:function(e){var a=0===+e.target.value?"english":"romanian";t(W(a)),localStorage.setItem("localization",a)},children:[Object(n.jsx)(w.a,{value:z.a.ENGLISH,control:Object(n.jsx)(I.a,{}),label:e.language.get("options-lang-en")}),Object(n.jsx)(w.a,{value:z.a.ROMANIAN,control:Object(n.jsx)(I.a,{}),label:e.language.get("options-lang-ro")})]})]})})},C=function(e){return Object(n.jsx)(O.a,{anchor:"top",open:e.open,onClose:e.onClose,children:Object(n.jsx)(m.a,{container:!0,children:Object(n.jsx)(R,{})})})},L=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language})),t=Object(r.useState)({drawer:!1}),a=Object(d.a)(t,2),c=a[0],s=a[1],o=function(){s({drawer:!c.drawer})};return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(j.a,{variant:"outlined",size:"small",style:{margin:"40px 0"},children:[Object(n.jsx)(h.a,{startIcon:Object(n.jsx)(g.v,{}),component:b.b,to:"/",children:e.language.get("nav-now")}),Object(n.jsx)(h.a,{startIcon:Object(n.jsx)(g.E,{}),component:b.b,to:"/hourly",children:e.language.get("nav-hourly")}),Object(n.jsx)(h.a,{startIcon:Object(n.jsx)(g.M,{}),component:b.b,to:"/forecast",children:e.language.get("nav-later")}),Object(n.jsx)(h.a,{onClick:o,children:Object(n.jsx)(p.c,{})})]}),Object(n.jsx)(C,{open:c.drawer,onClose:o})]})},D=a(47),U=a(48),k=a(70),P=a(69),_=a(27),H=(a(109),a(57)),F=a(55),M=a(67),V=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language}));return Object(n.jsxs)(m.a,{container:!0,spacing:2,style:{marginBottom:"40px",width:"98%"},children:[Object(n.jsx)(m.a,{item:!0,xs:6,children:Object(n.jsx)("div",{style:{textAlign:"right"},children:Object(n.jsx)(M.a,{iconId:e.weatherIconId,day:e.day,size:t.selected===z.a.ENGLISH?140:110})})}),Object(n.jsx)(m.a,{item:!0,xs:6,children:Object(n.jsxs)("div",{style:{textAlign:"left"},children:[Object(n.jsx)(F.Spring,{from:{number:0},to:{number:e.temperature},children:function(e){return Object(n.jsxs)(H.a,{variant:"h2",className:"typography-primary",children:[e.number.toFixed(),"\xb0"]})}}),Object(n.jsxs)(H.a,{variant:"h6",className:"typography-primary",children:[t.language.get("current-feels")," ",e.feelsLike,"\xb0"]}),Object(n.jsx)(H.a,{variant:"subtitle1",className:"typography-secondary",children:t.selected===z.a.ENGLISH?e.description:""})]})})]})},G=a(23),B=a(13),Y=a(38),X=function(e){return Object(n.jsx)(F.Spring,{from:{opacity:0},to:{opacity:1},children:function(t){return Object(n.jsx)("div",{style:t,children:Object(n.jsx)("div",{style:{margin:"auto",width:"80%"},children:Object(n.jsxs)(m.a,{container:!0,spacing:2,children:[Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.PRECIPITATION_CHANCE,value:e.precipitation})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.WIND,value:e.currentWeather.windSpeed})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.UV_INDEX,value:e.currentWeather.uvi})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.CLOUD_COVER,value:e.currentWeather.clouds})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.PRESSURE,value:e.currentWeather.pressure})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.HUMIDITY,value:e.currentWeather.humidity})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.DEW_POINT,value:e.currentWeather.dewPoint})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.VISIBILITY,value:e.currentWeather.visibility})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.SUNRISE,value:Object(Y.f)(e.currentWeather.sunrise)})}),Object(n.jsx)(m.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G.a,{itemType:B.a.SUNSET,value:Object(Y.f)(e.currentWeather.sunset)})})]})})})}})},J=a(68),K=a(88),q=a.n(K),Q=function(){function e(){Object(D.a)(this,e)}return Object(U.a)(e,null,[{key:"getBaseAPI",value:function(){return"https://api.openweathermap.org/data/2.5"}},{key:"getApiDefaultParams",value:function(){return"onecall?exclude=minutely&units=metric&appid="+this.buildApi(!0)}},{key:"getApiLocK",value:function(){return this.buildApi(!1)}},{key:"buildApi",value:function(e){var t=e?"f20b5ed34066a6c3d54f18fb73f573adms":"blank";return t.replace(t.substring(t.length-2,t.length),"")}}]),e}(),Z=q.a.create({baseURL:Q.getBaseAPI()||"https://raw.githubusercontent.com/Predator7/react-weather/main/src/sample-api/weather.json"}),$="FETCH_WEATHER_REQUEST",ee="FETCH_WEATHER_SUCCESS",te="FETCH_WEATHER_FAILURE",ae=function(e){return{latitude:e.lat,longitude:e.lon,timezoneOffset:1e3*e.timezone_offset}},ne=function(e){var t=re(e.weather);return{dt:1e3*e.dt,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,temp:e.temp.toFixed(0),feelsLike:e.feels_like.toFixed(0),pressure:e.pressure,humidity:e.humidity,dewPoint:e.dew_point.toFixed(0),uvi:e.uvi,clouds:e.clouds,visibility:e.visibility/1e3,windSpeed:e.wind_speed.toFixed(0),weather:t}},re=function(e){return e.map((function(e){return{id:e.id,main:e.main,description:e.description}}))},ie=function(e){return e.map((function(e){return{dt:1e3*e.dt,temp:e.temp.toFixed(0),windSpeed:e.wind_speed.toFixed(0),precipitation:+(100*e.pop).toFixed(0),weather:re(e.weather)}}))},ce=function(e){return e.map((function(e){return{dt:1e3*e.dt,precipitation:+(100*e.pop).toFixed(0),maxTemp:+e.temp.max.toFixed(0),minTemp:+e.temp.min.toFixed(0),windSpeed:+e.wind_speed.toFixed(0),uvi:e.uvi,clouds:e.clouds,pressure:e.pressure,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,weather:re(e.weather)}}))},se=function(e,t){return function(a){a({type:$,loading:!0,error:"",weather:{}}),Z.get("/"+Q.getApiDefaultParams(),{params:{lat:e,lon:t}}).then((function(e){var t,n;a((n=e.data,t={coordinates:ae(n),currentWeather:ne(n.current),hourlyWeather:ie(n.hourly),forecast:ce(n.daily)},{type:ee,loading:!1,error:"",weather:t}))})).catch((function(e){console.log(e.message),a({type:te,loading:!1,error:"Something went wrong fetching weather",weather:{}})}))}},oe=function(e){Object(k.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(D.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setLocalization=function(t){var a=localStorage.getItem("localization");null!==a?e.props.changeLanguage(a):(localStorage.setItem("localization",t),e.props.changeLanguage(t))},e.onLoadWeather=function(){var t=Object(n.jsx)(J.a,{});return e.props.weather.currentWeather&&(t=Object(n.jsxs)("div",{children:[Object(n.jsx)(V,{temperature:e.props.weather.currentWeather.temp,feelsLike:e.props.weather.currentWeather.feelsLike,description:e.props.weather.currentWeather.weather[0].description,weatherIconId:e.props.weather.currentWeather.weather[0].id,day:Object(Y.a)(e.props.weather.currentWeather.dt,e.props.weather.currentWeather.sunrise,e.props.weather.currentWeather.sunset)}),Object(n.jsx)(X,{currentWeather:e.props.weather.currentWeather,precipitation:e.props.weather.hourlyWeather[0].precipitation})]})),t},e}return Object(U.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.weather.currentWeather||"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){var a,n,r=(a=t.coords.latitude,n=t.coords.longitude,a>43.38&&a<48.16&&n>20.16&&n<29.42?"romanian":"english");e.setLocalization(r),e.props.fetchWeather(t.coords.latitude,t.coords.longitude)}),(function(t){console.log(t.message),e.setLocalization("romanian"),e.props.fetchWeather(45.43,28.04)}))}},{key:"render",value:function(){return Object(n.jsx)("div",{children:this.onLoadWeather()})}}]),a}(r.Component),le=Object(x.b)((function(e){return{weather:e.weatherReducer.weather,localization:e.localizationReducer.language}}),(function(e){return{fetchWeather:Object(_.b)(se,e),changeLanguage:Object(_.b)(W,e)}}))(oe),ue=i.a.lazy((function(){return a.e(4).then(a.bind(null,527))})),de=i.a.lazy((function(){return Promise.all([a.e(2),a.e(5)]).then(a.bind(null,526))}));var je=Object(o.g)((function(){return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(L,{}),Object(n.jsx)(r.Suspense,{fallback:Object(n.jsx)(u,{}),children:Object(n.jsxs)(o.d,{children:[Object(n.jsx)(o.b,{path:"/hourly",render:function(){return Object(n.jsx)(de,{})}}),Object(n.jsx)(o.b,{path:"/forecast",render:function(){return Object(n.jsx)(ue,{})}}),Object(n.jsx)(o.b,{path:"/",component:le}),Object(n.jsx)(o.a,{to:"/"})]})})]})})),he=a(91),be=a(89),ge=a(90),pe={loading:!1,error:"",weather:{}},xe=function(e){return{loading:!1,error:"",weather:e.weather}},Oe=function(e){return{loading:!1,error:e.error,weather:{}}},me={language:N},fe=function(e){return{language:e.language}},ve=(Object(ge.createLogger)(),[]);ve=[be.a];var ye=Object(_.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return{loading:!0,error:"",weather:{}};case ee:return xe(t);case te:return Oe(t);default:return e}},localizationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return fe(t);default:return e}}}),we=Object(_.d)(ye,_.a.apply(void 0,Object(he.a)(ve)));s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(x.a,{store:we,children:Object(n.jsx)(b.a,{basename:"/react-weather",children:Object(n.jsx)(je,{})})})}),document.getElementById("root"))},23:function(e,t,a){"use strict";var n=a(3),r=(a(1),a(57)),i=a(63),c=a(9),s=a(18),o=a(13);t.a=function(e){var t=Object(s.d)((function(e){return e.localizationReducer.language})),a=Object(n.jsx)(c.a,{size:42}),l="NA",u="NA";switch(e.itemType){case o.a.PRECIPITATION_CHANCE:a=Object(n.jsx)(c.L,{size:42,color:"#666"}),l=e.value+" %",u=t.language.get("detail-chance");break;case o.a.WIND:a=Object(n.jsx)(c.s,{size:42,color:"#becbd1"}),l=e.value+" km/h",u=t.language.get("detail-wind");break;case o.a.UV_INDEX:a=Object(n.jsx)(c.r,{size:42,color:"#cbad33"}),l=e.value,u=t.language.get("detail-uv");break;case o.a.CLOUD_COVER:a=Object(n.jsx)(c.c,{size:42,color:"#becbd1"}),l=e.value+" %",u=t.language.get("detail-cloud");break;case o.a.PRESSURE:a=Object(n.jsx)(c.b,{size:42,color:"#666"}),l=e.value+" mmHg",u=t.language.get("detail-pressure");break;case o.a.HUMIDITY:a=Object(n.jsx)(c.g,{size:42,color:"#86c3d6"}),l=e.value+" %",u=t.language.get("detail-humidity");break;case o.a.DEW_POINT:a=Object(n.jsx)(c.w,{size:42,color:"#86c3d6"}),l=e.value+" \xb0",u=t.language.get("detail-dew");break;case o.a.VISIBILITY:a=Object(n.jsx)(c.K,{size:42,color:"#999"}),l=e.value+" km",u=t.language.get("detail-visibility");break;case o.a.SUNRISE:a=Object(n.jsx)(c.t,{size:42,color:"#edcf53"}),l=e.value,u=t.language.get("detail-sunrise");break;case o.a.SUNSET:a=Object(n.jsx)(c.u,{size:42,color:"#edcf53"}),l=e.value,u=t.language.get("detail-sunset")}return Object(n.jsxs)(i.a,{container:!0,spacing:2,style:{marginTop:"1px"},children:[Object(n.jsx)(i.a,{item:!0,xs:4,children:Object(n.jsx)("div",{style:{textAlign:"right"},children:a})}),Object(n.jsx)(i.a,{item:!0,xs:8,children:Object(n.jsxs)("div",{style:{textAlign:"left"},children:[Object(n.jsx)(r.a,{variant:"subtitle2",className:"typography-primary",children:Object(n.jsx)("strong",{children:l})}),Object(n.jsx)(r.a,{variant:"body2",className:"typography-secondary",children:u})]})})]})}},24:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e[e.ENGLISH=0]="ENGLISH",e[e.ROMANIAN=1]="ROMANIAN"}(n||(n={}))},38:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return o}));var n=function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()},r=function(e,t){var a=t.weekArray,n=new Date(e);return a[n.getDay()]+" "+n.getDate()},i=function(e){return new Date(e).getHours()},c=function(e){return new Date(e).getHours()+":00"},s=function(e,t,a){return e>t&&e<a},o=function(e){return new Date(e).getDate()}},67:function(e,t,a){"use strict";var n=a(3),r=a(1),i=a.n(r),c=a(9);t.a=function(e){var t=Object(n.jsx)(c.a,{size:e.size,color:"#7d8b8e"});return e.iconId>=200&&e.iconId<300&&(t=e.day?Object(n.jsx)(c.x,{size:e.size,color:"#7d8b8e"}):Object(n.jsx)(c.n,{size:e.size,color:"#7d8b8e"})),e.iconId>=300&&e.iconId<400&&(t=e.day?Object(n.jsx)(c.p,{size:e.size,color:"#96a7af"}):Object(n.jsx)(c.l,{size:e.size,color:"#96a7af"})),e.iconId>=500&&e.iconId<600&&(t=e.day?Object(n.jsx)(c.o,{size:e.size,color:"#83c2d3"}):Object(n.jsx)(c.k,{size:e.size,color:"#83c2d3"})),e.iconId>=600&&e.iconId<700&&(t=e.day?Object(n.jsx)(c.q,{size:e.size,color:"#97becf"}):Object(n.jsx)(c.m,{size:e.size,color:"#97becf"})),e.iconId>=700&&e.iconId<800&&(t=e.day?Object(n.jsx)(c.f,{size:e.size,color:"#becbd1"}):Object(n.jsx)(c.j,{size:e.size,color:"#becbd1"})),800===e.iconId&&(t=e.day?Object(n.jsx)(c.e,{size:e.size,color:"#edcf53"}):Object(n.jsx)(c.h,{size:e.size,color:"#becbd1"})),e.iconId>800&&e.iconId<900&&(t=e.day?Object(n.jsx)(c.d,{size:e.size,color:"#becbd1"}):Object(n.jsx)(c.i,{size:e.size,color:"#becbd1"})),Object(n.jsx)(i.a.Fragment,{children:t})}},68:function(e,t,a){"use strict";var n=a(3),r=(a(1),a(142)),i=a(57),c=a(18);t.a=function(){var e=Object(c.d)((function(e){return e.localizationReducer.language}));return Object(n.jsxs)("div",{style:{margin:"50px 0"},children:[Object(n.jsx)(r.a,{}),Object(n.jsx)(i.a,{variant:"subtitle1",children:e.language.get("loading")})]})}}},[[141,1,3]]]);
//# sourceMappingURL=main.3d99c33b.chunk.js.map