(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{123:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),i=n.n(r),c=n(14),o=n.n(c),s=(n(123),n(37)),l=n(18),u=n(188),d=function(){return Object(a.jsx)("div",{style:{margin:"100px auto"},children:Object(a.jsx)(u.a,{})})},j=n(201),g=n(164),b=n(195),h=n(165),p=n(42),f=n(9),x=n(36),O=n(13),m=n(198),v=n(79),y=n(197),w=n(200),I=n(202),S=n(203),k=n(190),z=n(199),N=n(30),E="CHANGE_LANGUAGE",R=new Map;R.set("loading","Fetching weather"),R.set("nav-now","Now"),R.set("nav-hourly","Hourly"),R.set("nav-later","Later"),R.set("nav-settings","Settings"),R.set("drawer-back","Back"),R.set("drawer-location","Current location"),R.set("current-feels","Feels like"),R.set("detail-chance","Chance"),R.set("detail-wind","Wind speed"),R.set("detail-uv","UV Index"),R.set("detail-cloud","Cloud cover"),R.set("detail-pressure","Pressure"),R.set("detail-humidity","Humidity"),R.set("detail-dew","Dew point"),R.set("detail-visibility","Visibility"),R.set("detail-sunrise","Sunrise"),R.set("detail-sunset","Sunset"),R.set("chart-tooltip-temperature","Temperature"),R.set("chart-tooltip-wind","Wind speed"),R.set("chart-tooltip-precipitation","Precipitation"),R.set("chart-axis-now","Now"),R.set("chart-axis-24","24h"),R.set("chart-axis-48","48h"),R.set("toggle-more","More"),R.set("toggle-less","Less"),R.set("search-placeholder","Search..."),R.set("options-lang-title","Weather language"),R.set("options-lang-en","English"),R.set("options-lang-ro","Romanian"),R.set("unsplash","Random background"),R.set("about-built","Built with "),R.set("about-by"," by ");var A={language:R,weekArray:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],selected:N.a.ENGLISH},W=new Map;W.set("loading","Se incarc\u0103 vremea"),W.set("nav-now","Acum"),W.set("nav-hourly","Urmeaz\u0103"),W.set("nav-later","Viitor"),W.set("nav-settings","Set\u0103ri"),W.set("drawer-back","\xcenapoi"),W.set("drawer-location","Loca\u021bia curent\u0103"),W.set("current-feels","Se simte"),W.set("detail-chance","\u0218anse"),W.set("detail-wind","V\xe2nt"),W.set("detail-uv","Index UV"),W.set("detail-cloud","Acoperire"),W.set("detail-pressure","Presiune"),W.set("detail-humidity","Umiditate"),W.set("detail-dew","Condens"),W.set("detail-visibility","Vizibilitate"),W.set("detail-sunrise","R\u0103s\u0103rit"),W.set("detail-sunset","Apus"),W.set("chart-tooltip-temperature","Temperatur\u0103"),W.set("chart-tooltip-wind","V\xe2nt"),W.set("chart-tooltip-precipitation","Precipita\u021bie"),W.set("chart-axis-now","Acum"),W.set("chart-axis-24","24 ore"),W.set("chart-axis-48","48 ore"),W.set("toggle-more","Mai Mult"),W.set("toggle-less","Mai Pu\u021bin"),W.set("search-placeholder","Caut\u0103..."),W.set("options-lang-title","Schimb\u0103 limba"),W.set("options-lang-en","Englez\u0103"),W.set("options-lang-ro","Roman\u0103"),W.set("unsplash","Fundal aleatoriu"),W.set("about-built","Construit cu "),W.set("about-by"," de ");var T={language:W,weekArray:["Duminic\u0103","Luni","Mar\u021bi","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103"],selected:N.a.ROMANIAN},C=function(e){return{type:E,language:"english"===e?A:T}},L=function(){var e=Object(O.d)((function(e){return e.localizationReducer.language})),t=Object(O.c)();return Object(a.jsx)("div",{style:{width:"70%",textAlign:"left",margin:"10px",paddingTop:"10px",paddingLeft:"10px"},children:Object(a.jsxs)(w.a,{component:"fieldset",children:[Object(a.jsx)(I.a,{component:"legend",children:e.language.get("options-lang-title")}),Object(a.jsxs)(S.a,{"aria-label":"language",name:"language",value:e.selected,onChange:function(e){var n=0===+e.target.value?"english":"romanian";t(C(n)),localStorage.setItem("localization",n)},children:[Object(a.jsx)(k.a,{value:N.a.ENGLISH,control:Object(a.jsx)(z.a,{}),label:e.language.get("options-lang-en")}),Object(a.jsx)(k.a,{value:N.a.ROMANIAN,control:Object(a.jsx)(z.a,{}),label:e.language.get("options-lang-ro")})]})]})})},F=n(59),P=n(71),_=function(){var e=Object(O.d)((function(e){return e.localizationReducer.language}));return Object(a.jsx)("div",{children:Object(a.jsxs)(y.a,{borderRadius:16,className:"box-default",style:{padding:"20px 0 10px 0"},children:[Object(a.jsxs)(F.a,{variant:"body2",className:"typography-secondary",children:[e.language.get("about-built"),Object(a.jsx)(P.b,{size:11,color:"#d32f2f"}),e.language.get("about-by"),Object(a.jsx)("strong",{children:"Mihai S\xe2rmaru"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{title:"Github",children:Object(a.jsx)(g.a,{href:"https://github.com/Predator7",children:Object(a.jsx)(P.a,{size:28,color:"#211F1F"})})}),Object(a.jsx)(j.a,{title:"LinkedIn",children:Object(a.jsx)(g.a,{href:"https://linkedin.com/in/mihai-sarmaru",children:Object(a.jsx)(P.c,{size:28,color:"#0e76a8"})})})]})]})})},U=n(62),D=n(63),M=function(){function e(){Object(U.a)(this,e)}return Object(D.a)(e,null,[{key:"getBaseAPI",value:function(){return"https://api.openweathermap.org/data/2.5"}},{key:"getApiDefaultParams",value:function(){return"onecall?exclude=minutely&units=metric&appid="+this.buildApi(!0)}},{key:"getGCodeAPI",value:function(){return"https://maps.googleapis.com/maps/api/geocode/json?key="+this.buildApi(!1)+"&latlng="}},{key:"getApiLocK",value:function(){return this.buildApi(!1)}},{key:"buildApi",value:function(e){var t=e?"f20b5ed34066a6c3d54f18fb73f573adms":"AIzaSyACiQcgaB_X7F24ibTAhXUFOEexv8jBa-ESm";return t.replace(t.substring(t.length-2,t.length),"")}}]),e}(),H=n(57),V=n(85),B=n(43),G=n.n(B),J=n(72),Y=function(){var e=Object(J.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(J.a)(G.a.mark((function e(t){var n,a,r,i;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("locations"),e.next=3,Q(t);case 3:a=e.sent,r=[],i=!0,null!==n?(r=JSON.parse(n),q(t,r)||(i=!1,r.length>=3&&r.pop(),r.unshift(a))):(r.push(a),i=!1),i||localStorage.setItem("locations",JSON.stringify(r)),K(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e){localStorage.setItem("current_location",JSON.stringify(e))},q=function(e,t){var n,a=Object(V.a)(t);try{for(a.s();!(n=a.n()).done;){if(e===n.value.name)return!0}}catch(r){a.e(r)}finally{a.f()}return!1},Q=function(){var e=Object(J.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){Object(H.b)(t).then((function(e){return Object(H.c)(e[0])})).then((function(n){var a=n.lat,r=n.lng;e({name:t,lat:a,long:r})}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(O.d)((function(e){return e.localizationReducer.language}));return Object(a.jsx)("div",{children:Object(a.jsx)(H.a,{apiKey:M.getApiLocK(),minLengthAutocomplete:3,debounce:500,autocompletionRequest:{types:["geocode"]},selectProps:{placeholder:"".concat(e.language.get("search-placeholder")),onChange:function(e){console.log(e),Y(e.label)}}})})},Z=n(192),ee=function(){var e=function(){var e=localStorage.getItem("locations");return null!==e?JSON.parse(e):null}();return Object(a.jsx)("div",{style:null===e?{display:"none"}:{textAlign:"left",padding:"10px 20px"},children:null===e?null:e.map((function(e,t){return Object(a.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center"},children:[Object(a.jsx)(x.e,{className:"typography-secondary"}),Object(a.jsx)(Z.a,{href:"#",onClick:function(){return K(e),void window.location.reload()},style:{margin:"10px 0 10px 5px"},children:e.name},t)]})}))})},te=n(193),ne=function(){var e=localStorage.getItem("unsplash");return null!==e&&JSON.parse(e)},ae=function(){var e=Object(O.d)((function(e){return e.localizationReducer.language})),t=Object(r.useState)(!1),n=Object(s.a)(t,2),i=n[0],c=n[1];Object(r.useEffect)((function(){c(ne())}),[]);return Object(a.jsx)("div",{style:{margin:"10px 0",padding:"0 20px",width:"90%"},children:Object(a.jsxs)(v.a,{container:!0,style:{display:"flex",justifyContent:"left",alignItems:"center"},children:[Object(a.jsx)(v.a,{item:!0,xs:9,style:{textAlign:"left"},children:Object(a.jsx)(F.a,{variant:"body1",children:e.language.get("unsplash")})}),Object(a.jsx)(v.a,{item:!0,xs:3,children:Object(a.jsx)(te.a,{color:"secondary",checked:i,onChange:function(){!function(e){localStorage.setItem("unsplash",JSON.stringify(e))}(!i),c(!i)}})})]})})},re=function(e){var t=Object(O.d)((function(e){return e.localizationReducer.language}));return Object(a.jsxs)(m.a,{anchor:"left",open:e.open,onClose:e.onClose,children:[Object(a.jsx)(j.a,{title:t.language.get("drawer-back"),children:Object(a.jsx)(g.a,{style:{backgroundColor:"#ffffff",position:"absolute",top:"0",left:"0",margin:"15px"},onClick:e.onClose,children:Object(a.jsx)(x.a,{size:18})})}),Object(a.jsx)(j.a,{title:t.language.get("drawer-location"),children:Object(a.jsx)(g.a,{style:{backgroundColor:"#ffffff",position:"absolute",top:"0",right:"0",margin:"15px"},onClick:function(){localStorage.removeItem("current_location"),window.location.reload()},children:Object(a.jsx)(x.g,{size:18})})}),Object(a.jsx)("div",{style:{background:"#f3f3f3",height:"300%"},children:Object(a.jsxs)(v.a,{container:!0,style:{width:"300px",marginTop:"50px"},children:[Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",style:{margin:"20px auto 10px auto"},children:Object(a.jsx)($,{})}),Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",style:{margin:"10px auto"},children:Object(a.jsx)(ee,{})}),Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",style:{margin:"10px auto"},children:Object(a.jsx)(L,{})}),Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",style:{margin:"10px auto"},children:Object(a.jsx)(ae,{})}),Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",style:{margin:"10px auto"},children:Object(a.jsx)(_,{})})]})})]})},ie=function(){var e=Object(O.d)((function(e){return e.localizationReducer.language})),t=Object(r.useState)({drawer:!1}),n=Object(s.a)(t,2),c=n[0],o=n[1],l=function(){o({drawer:!c.drawer})};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(j.a,{title:e.language.get("nav-settings"),children:Object(a.jsx)(g.a,{style:{backgroundColor:"#ffffff",opacity:"0.9",position:"absolute",top:"0",left:"0",margin:"15px"},onClick:l,children:Object(a.jsx)(x.f,{size:18,color:"#000"})})}),Object(a.jsxs)(b.a,{variant:"outlined",size:"medium",style:{margin:"130px 0 0 0",background:"white",opacity:"0.9"},children:[Object(a.jsx)(h.a,{startIcon:Object(a.jsx)(f.v,{}),component:p.b,to:"/",children:e.language.get("nav-now")}),Object(a.jsx)(h.a,{startIcon:Object(a.jsx)(f.F,{}),component:p.b,to:"/hourly",children:e.language.get("nav-hourly")}),Object(a.jsx)(h.a,{startIcon:Object(a.jsx)(f.N,{}),component:p.b,to:"/forecast",children:e.language.get("nav-later")})]}),Object(a.jsx)(re,{open:c.drawer,onClose:l})]})},ce=function(e){var t=Object(O.d)((function(e){return e.weatherReducer.weather})),n=Object(r.useState)(""),c=Object(s.a)(n,2),o=c[0],l=c[1],u=Object(r.useState)(""),d=Object(s.a)(u,2),j=d[0],g=d[1];return Object(r.useEffect)((function(){if(void 0!==t.currentWeather){var e=ne()?"https://source.unsplash.com/random":function(e){var t="images/default.jpg",n=Math.floor(Math.random()*Math.floor(10));return e>=200&&e<300&&(t="images/thunderstorm/".concat(n,".jpg")),e>=300&&e<400&&(t="images/rain/".concat(n,".jpg")),e>=500&&e<600&&(t="images/rain/".concat(n,".jpg")),e>=600&&e<700&&(t="images/snow/".concat(n,".jpg")),e>=700&&e<800&&(t="images/fog/".concat(n,".jpg")),800===e&&(t="images/sunny/".concat(n,".jpg")),e>800&&e<900&&(t="images/cloudy/".concat(n,".jpg")),t}(t.currentWeather.weather[0].id);l(e),g(t.coordinates.locationName)}}),[t.currentWeather,t.coordinates]),Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)("div",{className:"fullscreen-image",style:{backgroundImage:"url(".concat(o,")"),backgroundPosition:"center center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:e.children}),Object(a.jsx)("div",{style:""===j?{display:"none"}:{marginTop:"12px",padding:"5px 20px",display:"inline-block",background:"rgba(0, 0, 0, 0.2)",backdropFilter:"blur(2px)",borderRadius:"12px"},children:Object(a.jsx)(F.a,{variant:"subtitle2",style:{color:"#ffffff",fontSize:"12px"},children:j})})]})})})},oe=n(84),se=n(83),le=n(38),ue=(n(130),n(51)),de=n(80),je=function(e){var t=Object(O.d)((function(e){return e.localizationReducer.language}));return Object(a.jsx)(ue.Spring,{from:{opacity:0},to:{opacity:1},children:function(n){return Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",style:n,children:Object(a.jsxs)(v.a,{container:!0,spacing:2,style:{marginTop:"20px",marginBottom:"30px"},children:[Object(a.jsx)(v.a,{item:!0,xs:6,children:Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(a.jsx)(de.a,{iconId:e.weatherIconId,day:e.day,size:t.selected===N.a.ENGLISH?140:110})})}),Object(a.jsx)(v.a,{item:!0,xs:6,children:Object(a.jsxs)("div",{style:{textAlign:"left"},children:[Object(a.jsx)(ue.Spring,{from:{number:0},to:{number:e.temperature},delay:100,children:function(e){return Object(a.jsxs)(F.a,{variant:"h2",className:"typography-primary",children:[e.number.toFixed(),"\xb0"]})}}),Object(a.jsxs)(F.a,{variant:"h6",className:"typography-primary",children:[t.language.get("current-feels")," ",e.feelsLike,"\xb0"]}),Object(a.jsx)(F.a,{variant:"subtitle1",className:"typography-secondary",children:t.selected===N.a.ENGLISH?e.description:""})]})})]})})}})},ge=n(29),be=n(17),he=n(50),pe=function(e){return Object(a.jsx)(ue.Spring,{from:{opacity:0},to:{opacity:1},delay:200,children:function(t){return Object(a.jsx)("div",{style:t,children:Object(a.jsx)(y.a,{borderRadius:16,className:"box-default",children:Object(a.jsx)("div",{style:{margin:"0 auto 30px auto",width:"85%"},children:Object(a.jsxs)(v.a,{container:!0,spacing:2,children:[Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.PRECIPITATION_CHANCE,value:e.precipitation})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.WIND,value:e.currentWeather.windSpeed})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.UV_INDEX,value:e.currentWeather.uvi})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.CLOUD_COVER,value:e.currentWeather.clouds})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.PRESSURE,value:e.currentWeather.pressure})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.HUMIDITY,value:e.currentWeather.humidity})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.DEW_POINT,value:e.currentWeather.dewPoint})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.VISIBILITY,value:e.currentWeather.visibility})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.SUNRISE,value:Object(he.f)(e.currentWeather.sunrise)})}),Object(a.jsx)(v.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(ge.a,{itemType:be.a.SUNSET,value:Object(he.f)(e.currentWeather.sunset)})})]})})})})}})},fe=n(81),xe=n(105),Oe=n.n(xe).a.create({baseURL:M.getBaseAPI()||"https://raw.githubusercontent.com/Predator7/react-weather/main/src/sample-api/weather.json"}),me="FETCH_WEATHER_REQUEST",ve="FETCH_WEATHER_SUCCESS",ye="FETCH_WEATHER_FAILURE",we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ie(e,t),a=Se(e.current),r=ze(e.hourly),i=Ne(e.daily),c={coordinates:n,currentWeather:a,hourlyWeather:r,forecast:i};return c},Ie=function(e,t){return{latitude:e.lat,longitude:e.lon,timezoneOffset:1e3*e.timezone_offset,locationName:t}},Se=function(e){var t=ke(e.weather);return{dt:1e3*e.dt,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,temp:"-0"===e.temp.toFixed(0)?0:e.temp.toFixed(0),feelsLike:"-0"===e.feels_like.toFixed(0)?0:e.feels_like.toFixed(0),pressure:e.pressure,humidity:e.humidity,dewPoint:"-0"===e.dew_point.toFixed(0)?0:e.dew_point.toFixed(0),uvi:e.uvi,clouds:e.clouds,visibility:e.visibility/1e3,windSpeed:e.wind_speed.toFixed(0),weather:t}},ke=function(e){return e.map((function(e){return{id:e.id,main:e.main,description:e.description}}))},ze=function(e){return e.map((function(e){return{dt:1e3*e.dt,temp:"-0"===e.temp.toFixed(0)?0:+e.temp.toFixed(0),feelsLike:"-0"===e.feels_like.toFixed(0)?0:+e.feels_like.toFixed(0),windSpeed:+e.wind_speed.toFixed(0),precipitation:+(100*e.pop).toFixed(0),weather:ke(e.weather)}}))},Ne=function(e){return e.map((function(e){return{dt:1e3*e.dt,precipitation:+(100*e.pop).toFixed(0),maxTemp:"-0"===e.temp.max.toFixed(0)?0:+e.temp.max.toFixed(0),minTemp:"-0"===e.temp.min.toFixed(0)?0:+e.temp.min.toFixed(0),windSpeed:+e.wind_speed.toFixed(0),uvi:e.uvi,clouds:e.clouds,pressure:e.pressure,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,weather:ke(e.weather)}}))},Ee=function(){return{type:me,loading:!0,error:"",weather:{}}},Re=function(e){return{type:ve,loading:!1,error:"",weather:e}},Ae=function(){return{type:ye,loading:!1,error:"Something went wrong fetching weather",weather:{}}},We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(a){a(Ee()),Oe.get("/"+M.getApiDefaultParams(),{params:{lat:e,lon:t}}).then((function(e){a(Re(we(e.data,n)))})).catch((function(e){console.log(e.message),a(Ae())}))}},Te=function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(y.a,{borderRadius:16,style:{width:"75%",margin:"100px auto",padding:"20px",background:"#ffffff"},children:[Object(a.jsx)(x.d,{size:64,style:{marginBottom:"20px"}}),Object(a.jsx)($,{})]})})},Ce=function(e){Object(oe.a)(n,e);var t=Object(se.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={didLocate:!0},e.fetchWeatherWithDescription=function(t,n){var a=t+","+n;fetch(M.getGCodeAPI()+a).then((function(e){return e.json()})).then((function(a){e.props.fetchWeather(t,n,a.results[0].formatted_address)})).catch((function(a){console.log(a),e.props.fetchWeather(t,n)}))},e.setLocalization=function(t){var n=localStorage.getItem("localization");null!==n?e.props.changeLanguage(n):(localStorage.setItem("localization",t),e.props.changeLanguage(t))},e.onLoadWeather=function(){var t=Object(a.jsx)(fe.a,{});return e.props.weather.currentWeather&&e.state.didLocate&&(t=Object(a.jsxs)("div",{children:[Object(a.jsx)(je,{temperature:e.props.weather.currentWeather.temp,feelsLike:e.props.weather.currentWeather.feelsLike,description:e.props.weather.currentWeather.weather[0].description,weatherIconId:e.props.weather.currentWeather.weather[0].id,day:Object(he.a)(e.props.weather.currentWeather.dt,e.props.weather.currentWeather.sunrise,e.props.weather.currentWeather.sunset)}),Object(a.jsx)(pe,{currentWeather:e.props.weather.currentWeather,precipitation:e.props.weather.hourlyWeather[0].precipitation})]})),e.state.didLocate||(t=Object(a.jsx)(Te,{})),t},e}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(!this.props.weather.currentWeather){var t=function(){var e=localStorage.getItem("current_location");return null!==e?JSON.parse(e):null}();null!==t?this.props.fetchWeather(t.lat,t.long,t.name):"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){var n,a,r=(n=t.coords.latitude,a=t.coords.longitude,n>43.38&&n<48.16&&a>20.16&&a<29.42?"romanian":"english");e.setLocalization(r),e.fetchWeatherWithDescription(t.coords.latitude,t.coords.longitude)}),(function(t){console.log(t.message),e.setState((function(){return{didLocate:!1}}))}))}}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.onLoadWeather()})}}]),n}(r.Component),Le=Object(O.b)((function(e){return{weather:e.weatherReducer.weather,localization:e.localizationReducer.language}}),(function(e){return{fetchWeather:Object(le.b)(We,e),changeLanguage:Object(le.b)(C,e)}}))(Ce),Fe=i.a.lazy((function(){return n.e(4).then(n.bind(null,547))})),Pe=i.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,546))}));var _e=Object(l.g)((function(){var e=Object(O.d)((function(e){return e.weatherReducer})),t=Object(r.useState)(!1),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(r.useEffect)((function(){!0!==e.loading&&null!==e.weather&&o(!0)}),[e]),Object(a.jsxs)(i.a.Fragment,{children:[function(){var e=null;return c&&(e=Object(a.jsx)(ce,{children:Object(a.jsx)(ie,{})})),e}(),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(d,{}),children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/hourly",render:function(){return Object(a.jsx)(Pe,{})}}),Object(a.jsx)(l.b,{path:"/forecast",render:function(){return Object(a.jsx)(Fe,{})}}),Object(a.jsx)(l.b,{path:"/",component:Le}),Object(a.jsx)(l.a,{to:"/"})]})})]})})),Ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function De(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Me=n(108),He=n(106),Ve=n(107),Be={loading:!0,error:"",weather:{}},Ge=function(e){return{loading:!1,error:"",weather:e.weather}},Je=function(e){return{loading:!1,error:e.error,weather:{}}},Ye={language:A},Xe=function(e){return{language:e.language}},Ke=(Object(Ve.createLogger)(),[]);Ke=[He.a];var qe=Object(le.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0,error:"",weather:{}};case ve:return Ge(t);case ye:return Je(t);default:return e}},localizationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Xe(t);default:return e}}}),Qe=Object(le.d)(qe,le.a.apply(void 0,Object(Me.a)(Ke)));o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(O.a,{store:Qe,children:Object(a.jsx)(p.a,{basename:"/react-weather",children:Object(a.jsx)(_e,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-weather",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-weather","/service-worker.js");Ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):De(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):De(t,e)}))}}()},17:function(e,t,n){"use strict";var a;!function(e){e[e.PRECIPITATION_CHANCE=0]="PRECIPITATION_CHANCE",e[e.WIND=1]="WIND",e[e.UV_INDEX=2]="UV_INDEX",e[e.CLOUD_COVER=3]="CLOUD_COVER",e[e.PRESSURE=4]="PRESSURE",e[e.HUMIDITY=5]="HUMIDITY",e[e.DEW_POINT=6]="DEW_POINT",e[e.VISIBILITY=7]="VISIBILITY",e[e.SUNRISE=8]="SUNRISE",e[e.SUNSET=9]="SUNSET"}(a||(a={})),t.a=a},29:function(e,t,n){"use strict";var a=n(2),r=(n(1),n(59)),i=n(79),c=n(9),o=n(13),s=n(17);t.a=function(e){var t=Object(o.d)((function(e){return e.localizationReducer.language})),n=Object(a.jsx)(c.a,{size:42}),l="NA",u="NA";switch(e.itemType){case s.a.PRECIPITATION_CHANCE:n=Object(a.jsx)(c.M,{size:42,color:"#666"}),l=e.value+" %",u=t.language.get("detail-chance");break;case s.a.WIND:n=Object(a.jsx)(c.s,{size:42,color:"#becbd1"}),l=e.value+" km/h",u=t.language.get("detail-wind");break;case s.a.UV_INDEX:n=Object(a.jsx)(c.r,{size:42,color:"#cbad33"}),l=e.value,u=t.language.get("detail-uv");break;case s.a.CLOUD_COVER:n=Object(a.jsx)(c.c,{size:42,color:"#becbd1"}),l=e.value+" %",u=t.language.get("detail-cloud");break;case s.a.PRESSURE:n=Object(a.jsx)(c.b,{size:42,color:"#666"}),l=e.value+" mmHg",u=t.language.get("detail-pressure");break;case s.a.HUMIDITY:n=Object(a.jsx)(c.g,{size:42,color:"#86c3d6"}),l=e.value+" %",u=t.language.get("detail-humidity");break;case s.a.DEW_POINT:n=Object(a.jsx)(c.x,{size:42,color:"#86c3d6"}),l=e.value+" "+String.fromCharCode(176),u=t.language.get("detail-dew");break;case s.a.VISIBILITY:n=Object(a.jsx)(c.L,{size:42,color:"#999"}),l=e.value+" km",u=t.language.get("detail-visibility");break;case s.a.SUNRISE:n=Object(a.jsx)(c.t,{size:42,color:"#edcf53"}),l=e.value,u=t.language.get("detail-sunrise");break;case s.a.SUNSET:n=Object(a.jsx)(c.u,{size:42,color:"#edcf53"}),l=e.value,u=t.language.get("detail-sunset")}return Object(a.jsxs)(i.a,{container:!0,spacing:2,style:{marginTop:"1px"},children:[Object(a.jsx)(i.a,{item:!0,xs:4,children:Object(a.jsx)("div",{style:{textAlign:"right"},children:n})}),Object(a.jsx)(i.a,{item:!0,xs:8,children:Object(a.jsxs)("div",{style:{textAlign:"left"},children:[Object(a.jsx)(r.a,{variant:"subtitle2",className:"typography-primary",children:Object(a.jsx)("strong",{children:l})}),Object(a.jsx)(r.a,{variant:"body2",className:"typography-secondary",children:u})]})})]})}},30:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.ENGLISH=0]="ENGLISH",e[e.ROMANIAN=1]="ROMANIAN"}(a||(a={}))},50:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s}));var a=function(e){var t=new Date(e);return(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},r=function(e,t){var n=t.weekArray,a=new Date(e);return n[a.getDay()]+" "+a.getDate()},i=function(e){return new Date(e).getHours()},c=function(e){return new Date(e).getHours()+":00"},o=function(e,t,n){return e>t&&e<n},s=function(e){return new Date(e).getDate()}},80:function(e,t,n){"use strict";var a=n(2),r=n(1),i=n.n(r),c=n(9);t.a=function(e){var t=Object(a.jsx)(c.a,{size:e.size,color:"#7d8b8e"});return e.iconId>=200&&e.iconId<300&&(t=e.day?Object(a.jsx)(c.y,{size:e.size,color:"#7d8b8e"}):Object(a.jsx)(c.n,{size:e.size,color:"#7d8b8e"})),e.iconId>=300&&e.iconId<400&&(t=e.day?Object(a.jsx)(c.p,{size:e.size,color:"#96a7af"}):Object(a.jsx)(c.l,{size:e.size,color:"#96a7af"})),e.iconId>=500&&e.iconId<600&&(t=e.day?Object(a.jsx)(c.o,{size:e.size,color:"#83c2d3"}):Object(a.jsx)(c.k,{size:e.size,color:"#83c2d3"})),e.iconId>=600&&e.iconId<700&&(t=e.day?Object(a.jsx)(c.q,{size:e.size,color:"#97becf"}):Object(a.jsx)(c.m,{size:e.size,color:"#97becf"})),e.iconId>=700&&e.iconId<800&&(t=e.day?Object(a.jsx)(c.f,{size:e.size,color:"#becbd1"}):Object(a.jsx)(c.j,{size:e.size,color:"#becbd1"})),800===e.iconId&&(t=e.day?Object(a.jsx)(c.e,{size:e.size,color:"#edcf53"}):Object(a.jsx)(c.h,{size:e.size,color:"#becbd1"})),e.iconId>800&&e.iconId<900&&(t=e.day?Object(a.jsx)(c.d,{size:e.size,color:"#becbd1"}):Object(a.jsx)(c.i,{size:e.size,color:"#becbd1"})),Object(a.jsx)(i.a.Fragment,{children:t})}},81:function(e,t,n){"use strict";var a=n(2),r=(n(1),n(59)),i=n(13),c=n(58);t.a=function(){var e=Object(i.d)((function(e){return e.localizationReducer.language}));return Object(a.jsxs)("div",{style:{marginTop:"250px"},children:[function(){var e=Object(a.jsx)(c.b,{});switch(Math.floor(Math.random()*Math.floor(2))){case 0:e=Object(a.jsx)(c.b,{});break;case 1:e=Object(a.jsx)(c.a,{});break;default:e=Object(a.jsx)(c.b,{})}return e}(),Object(a.jsx)(r.a,{variant:"subtitle1",children:e.language.get("loading")})]})}}},[[162,1,3]]]);
//# sourceMappingURL=main.f1f92993.chunk.js.map