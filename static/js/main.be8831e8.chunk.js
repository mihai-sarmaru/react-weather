(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{259:function(e,t,a){},475:function(e,t,a){"use strict";a.r(t);var r,n=a(3),i=a(2),c=a.n(i),s=a(16),o=a.n(s),l=(a(259),a(21)),d=a(220),j=a(512),u=a(477),h=a(41),b=a(7),p=a(50),x=a(17),g=a(514),O=a(511),m=a(516),y=a(518),f=a(519),v=a(507),I=a(515);!function(e){e[e.ENGLISH=0]="ENGLISH",e[e.ROMANIAN=1]="ROMANIAN"}(r||(r={}));var w="CHANGE_LANGUAGE",z=new Map;z.set("loading","Fetching weather"),z.set("nav-now","Now"),z.set("nav-hourly","Hourly"),z.set("nav-later","Later"),z.set("current-feels","Feels like"),z.set("detail-chance","Chance"),z.set("detail-wind","Wind speed"),z.set("detail-uv","UV Index"),z.set("detail-cloud","Cloud cover"),z.set("detail-pressure","Pressure"),z.set("detail-humidity","Humidity"),z.set("detail-dew","Dew point"),z.set("detail-visibility","Visibility"),z.set("detail-sunrise","Sunrise"),z.set("detail-sunset","Sunset"),z.set("chart-tooltip-temperature","Temperature"),z.set("chart-tooltip-wind","Wind speed"),z.set("chart-tooltip-precipitation","Precipitation"),z.set("chart-axis-now","Now"),z.set("chart-axis-24","24h"),z.set("chart-axis-48","48h"),z.set("toggle-more","More"),z.set("toggle-less","Less"),z.set("options-lang-title","Weather language"),z.set("options-lang-en","English"),z.set("options-lang-ro","Romanian");var T={language:z,weekArray:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],selected:r.ENGLISH},E=new Map;E.set("loading","Se incarca vremea"),E.set("nav-now","Acum"),E.set("nav-hourly","Urmeaza"),E.set("nav-later","Viitor"),E.set("current-feels","Se simte"),E.set("detail-chance","Sanse"),E.set("detail-wind","Vant"),E.set("detail-uv","Index UV"),E.set("detail-cloud","Acoperire"),E.set("detail-pressure","Presiune"),E.set("detail-humidity","Umiditate"),E.set("detail-dew","Condens"),E.set("detail-visibility","Visibilitate"),E.set("detail-sunrise","Rasarit"),E.set("detail-sunset","Apus"),E.set("chart-tooltip-temperature","Temperatura"),E.set("chart-tooltip-wind","Vant"),E.set("chart-tooltip-precipitation","Precipitatie"),E.set("chart-axis-now","Acum"),E.set("chart-axis-24","24 ore"),E.set("chart-axis-48","48 ore"),E.set("toggle-more","Mai Mult"),E.set("toggle-less","Mai Putin"),E.set("options-lang-title","Schimba limba"),E.set("options-lang-en","Engleza"),E.set("options-lang-ro","Romana");var S,R={language:E,weekArray:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],selected:r.ROMANIAN},C=function(e){return{type:w,language:"english"===e?T:R}},N=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language})),t=Object(x.c)();return Object(n.jsx)("div",{style:{width:"70%",margin:"10px auto"},children:Object(n.jsxs)(m.a,{component:"fieldset",children:[Object(n.jsx)(y.a,{component:"legend",children:e.language.get("options-lang-title")}),Object(n.jsxs)(f.a,{"aria-label":"language",name:"language",value:e.selected,onChange:function(e){var a=0===+e.target.value?"english":"romanian";t(C(a)),localStorage.setItem("localization",a)},children:[Object(n.jsx)(v.a,{value:r.ENGLISH,control:Object(n.jsx)(I.a,{}),label:e.language.get("options-lang-en")}),Object(n.jsx)(v.a,{value:r.ROMANIAN,control:Object(n.jsx)(I.a,{}),label:e.language.get("options-lang-ro")})]})]})})},k=function(e){return Object(n.jsx)(g.a,{anchor:"top",open:e.open,onClose:e.onClose,children:Object(n.jsx)(O.a,{container:!0,children:Object(n.jsx)(N,{})})})},W=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language})),t=Object(i.useState)({drawer:!1}),a=Object(d.a)(t,2),r=a[0],s=a[1],o=function(){s({drawer:!r.drawer})};return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)(j.a,{variant:"outlined",size:"small",style:{margin:"40px 0"},children:[Object(n.jsx)(u.a,{startIcon:Object(n.jsx)(b.v,{}),component:h.b,to:"/",children:e.language.get("nav-now")}),Object(n.jsx)(u.a,{startIcon:Object(n.jsx)(b.E,{}),component:h.b,to:"/hourly",children:e.language.get("nav-hourly")}),Object(n.jsx)(u.a,{startIcon:Object(n.jsx)(b.M,{}),component:h.b,to:"/forecast",children:e.language.get("nav-later")}),Object(n.jsx)(u.a,{onClick:o,children:Object(n.jsx)(p.c,{})})]}),Object(n.jsx)(k,{open:r.drawer,onClose:o})]})},A=a(46),D=a(47),P=a(67),L=a(66),U=a(42),H=(a(265),a(476)),M=a(101),_=function(e){var t=Object(n.jsx)(b.a,{size:e.size,color:"#7d8b8e"});return e.iconId>=200&&e.iconId<300&&(t=e.day?Object(n.jsx)(b.x,{size:e.size,color:"#7d8b8e"}):Object(n.jsx)(b.n,{size:e.size,color:"#7d8b8e"})),e.iconId>=300&&e.iconId<400&&(t=e.day?Object(n.jsx)(b.p,{size:e.size,color:"#96a7af"}):Object(n.jsx)(b.l,{size:e.size,color:"#96a7af"})),e.iconId>=500&&e.iconId<600&&(t=e.day?Object(n.jsx)(b.o,{size:e.size,color:"#83c2d3"}):Object(n.jsx)(b.k,{size:e.size,color:"#83c2d3"})),e.iconId>=600&&e.iconId<700&&(t=e.day?Object(n.jsx)(b.q,{size:e.size,color:"#97becf"}):Object(n.jsx)(b.m,{size:e.size,color:"#97becf"})),e.iconId>=700&&e.iconId<800&&(t=e.day?Object(n.jsx)(b.f,{size:e.size,color:"#becbd1"}):Object(n.jsx)(b.j,{size:e.size,color:"#becbd1"})),800===e.iconId&&(t=e.day?Object(n.jsx)(b.e,{size:e.size,color:"#edcf53"}):Object(n.jsx)(b.h,{size:e.size,color:"#becbd1"})),e.iconId>800&&e.iconId<900&&(t=e.day?Object(n.jsx)(b.d,{size:e.size,color:"#becbd1"}):Object(n.jsx)(b.i,{size:e.size,color:"#becbd1"})),Object(n.jsx)(c.a.Fragment,{children:t})},F=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language}));return Object(n.jsxs)(O.a,{container:!0,spacing:2,style:{marginBottom:"40px",width:"98%"},children:[Object(n.jsx)(O.a,{item:!0,xs:6,children:Object(n.jsx)("div",{style:{textAlign:"right"},children:Object(n.jsx)(_,{iconId:e.weatherIconId,day:e.day,size:t.selected===r.ENGLISH?140:110})})}),Object(n.jsx)(O.a,{item:!0,xs:6,children:Object(n.jsxs)("div",{style:{textAlign:"left"},children:[Object(n.jsx)(M.Spring,{from:{number:0},to:{number:e.temperature},children:function(e){return Object(n.jsxs)(H.a,{variant:"h2",className:"typography-primary",children:[e.number.toFixed(),"\xb0"]})}}),Object(n.jsxs)(H.a,{variant:"h6",className:"typography-primary",children:[t.language.get("current-feels")," ",e.feelsLike,"\xb0"]}),Object(n.jsx)(H.a,{variant:"subtitle1",className:"typography-secondary",children:t.selected===r.ENGLISH?e.description:""})]})})]})};!function(e){e[e.PRECIPITATION_CHANCE=0]="PRECIPITATION_CHANCE",e[e.WIND=1]="WIND",e[e.UV_INDEX=2]="UV_INDEX",e[e.CLOUD_COVER=3]="CLOUD_COVER",e[e.PRESSURE=4]="PRESSURE",e[e.HUMIDITY=5]="HUMIDITY",e[e.DEW_POINT=6]="DEW_POINT",e[e.VISIBILITY=7]="VISIBILITY",e[e.SUNRISE=8]="SUNRISE",e[e.SUNSET=9]="SUNSET"}(S||(S={}));var V,B=S,G=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language})),a=Object(n.jsx)(b.a,{size:42}),r="NA",i="NA";switch(e.itemType){case B.PRECIPITATION_CHANCE:a=Object(n.jsx)(b.L,{size:42,color:"#666"}),r=e.value+" %",i=t.language.get("detail-chance");break;case B.WIND:a=Object(n.jsx)(b.s,{size:42,color:"#becbd1"}),r=e.value+" km/h",i=t.language.get("detail-wind");break;case B.UV_INDEX:a=Object(n.jsx)(b.r,{size:42,color:"#cbad33"}),r=e.value,i=t.language.get("detail-uv");break;case B.CLOUD_COVER:a=Object(n.jsx)(b.c,{size:42,color:"#becbd1"}),r=e.value+" %",i=t.language.get("detail-cloud");break;case B.PRESSURE:a=Object(n.jsx)(b.b,{size:42,color:"#666"}),r=e.value+" mmHg",i=t.language.get("detail-pressure");break;case B.HUMIDITY:a=Object(n.jsx)(b.g,{size:42,color:"#86c3d6"}),r=e.value+" %",i=t.language.get("detail-humidity");break;case B.DEW_POINT:a=Object(n.jsx)(b.w,{size:42,color:"#86c3d6"}),r=e.value+" \xb0",i=t.language.get("detail-dew");break;case B.VISIBILITY:a=Object(n.jsx)(b.K,{size:42,color:"#999"}),r=e.value+" km",i=t.language.get("detail-visibility");break;case B.SUNRISE:a=Object(n.jsx)(b.t,{size:42,color:"#edcf53"}),r=e.value,i=t.language.get("detail-sunrise");break;case B.SUNSET:a=Object(n.jsx)(b.u,{size:42,color:"#edcf53"}),r=e.value,i=t.language.get("detail-sunset")}return Object(n.jsxs)(O.a,{container:!0,spacing:2,style:{marginTop:"1px"},children:[Object(n.jsx)(O.a,{item:!0,xs:4,children:Object(n.jsx)("div",{style:{textAlign:"right"},children:a})}),Object(n.jsx)(O.a,{item:!0,xs:8,children:Object(n.jsxs)("div",{style:{textAlign:"left"},children:[Object(n.jsx)(H.a,{variant:"subtitle2",className:"typography-primary",children:Object(n.jsx)("strong",{children:r})}),Object(n.jsx)(H.a,{variant:"body2",className:"typography-secondary",children:i})]})})]})},Y=function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()},K=function(e,t){var a=t.weekArray,r=new Date(e);return a[r.getDay()]+" "+r.getDate()},X=function(e){return new Date(e).getHours()},J=function(e,t,a){return e>t&&e<a},q=function(e){return new Date(e).getDate()},Q=function(e){return Object(n.jsx)(M.Spring,{from:{opacity:0},to:{opacity:1},children:function(t){return Object(n.jsx)("div",{style:t,children:Object(n.jsx)("div",{style:{margin:"auto",width:"80%"},children:Object(n.jsxs)(O.a,{container:!0,spacing:2,children:[Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.PRECIPITATION_CHANCE,value:e.precipitation})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.WIND,value:e.currentWeather.windSpeed})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.UV_INDEX,value:e.currentWeather.uvi})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.CLOUD_COVER,value:e.currentWeather.clouds})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.PRESSURE,value:e.currentWeather.pressure})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.HUMIDITY,value:e.currentWeather.humidity})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.DEW_POINT,value:e.currentWeather.dewPoint})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.VISIBILITY,value:e.currentWeather.visibility})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.SUNRISE,value:Y(e.currentWeather.sunrise)})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(G,{itemType:B.SUNSET,value:Y(e.currentWeather.sunset)})})]})})})}})},Z=a(513),$=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language}));return Object(n.jsxs)("div",{style:{margin:"50px 0"},children:[Object(n.jsx)(Z.a,{}),Object(n.jsx)(H.a,{variant:"subtitle1",children:e.language.get("loading")})]})},ee=a(204),te=a.n(ee),ae=function(){function e(){Object(A.a)(this,e)}return Object(D.a)(e,null,[{key:"getBaseAPI",value:function(){return"https://api.openweathermap.org/data/2.5"}},{key:"getApiDefaultParams",value:function(){return"onecall?exclude=minutely&units=metric&appid="+this.buildApi(!0)}},{key:"getApiLocK",value:function(){return this.buildApi(!1)}},{key:"buildApi",value:function(e){var t=e?"f20b5ed34066a6c3d54f18fb73f573adms":"blank";return t.replace(t.substring(t.length-2,t.length),"")}}]),e}(),re=te.a.create({baseURL:ae.getBaseAPI()||"https://raw.githubusercontent.com/Predator7/react-weather/main/src/sample-api/weather.json"}),ne="FETCH_WEATHER_REQUEST",ie="FETCH_WEATHER_SUCCESS",ce="FETCH_WEATHER_FAILURE",se=function(e){return{latitude:e.lat,longitude:e.lon,timezoneOffset:1e3*e.timezone_offset}},oe=function(e){var t=le(e.weather);return{dt:1e3*e.dt,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,temp:e.temp.toFixed(0),feelsLike:e.feels_like.toFixed(0),pressure:e.pressure,humidity:e.humidity,dewPoint:e.dew_point.toFixed(0),uvi:e.uvi,clouds:e.clouds,visibility:e.visibility/1e3,windSpeed:e.wind_speed.toFixed(0),weather:t}},le=function(e){return e.map((function(e){return{id:e.id,main:e.main,description:e.description}}))},de=function(e){return e.map((function(e){return{dt:1e3*e.dt,temp:e.temp.toFixed(0),windSpeed:e.wind_speed.toFixed(0),precipitation:+(100*e.pop).toFixed(0),weather:le(e.weather)}}))},je=function(e){return e.map((function(e){return{dt:1e3*e.dt,precipitation:+(100*e.pop).toFixed(0),maxTemp:+e.temp.max.toFixed(0),minTemp:+e.temp.min.toFixed(0),windSpeed:+e.wind_speed.toFixed(0),uvi:e.uvi,clouds:e.clouds,pressure:e.pressure,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,weather:le(e.weather)}}))},ue=function(e,t){return function(a){a({type:ne,loading:!0,error:"",weather:{}}),re.get("/"+ae.getApiDefaultParams(),{params:{lat:e,lon:t}}).then((function(e){var t,r;a((r=e.data,t={coordinates:se(r),currentWeather:oe(r.current),hourlyWeather:de(r.hourly),forecast:je(r.daily)},{type:ie,loading:!1,error:"",weather:t}))})).catch((function(e){console.log(e.message),a({type:ce,loading:!1,error:"Something went wrong fetching weather",weather:{}})}))}},he=function(e){Object(P.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setLocalization=function(t){var a=localStorage.getItem("localization");null!==a?e.props.changeLanguage(a):(localStorage.setItem("localization",t),e.props.changeLanguage(t))},e.onLoadWeather=function(){var t=Object(n.jsx)($,{});return e.props.weather.currentWeather&&(t=Object(n.jsxs)("div",{children:[Object(n.jsx)(F,{temperature:e.props.weather.currentWeather.temp,feelsLike:e.props.weather.currentWeather.feelsLike,description:e.props.weather.currentWeather.weather[0].description,weatherIconId:e.props.weather.currentWeather.weather[0].id,day:J(e.props.weather.currentWeather.dt,e.props.weather.currentWeather.sunrise,e.props.weather.currentWeather.sunset)}),Object(n.jsx)(Q,{currentWeather:e.props.weather.currentWeather,precipitation:e.props.weather.hourlyWeather[0].precipitation})]})),t},e}return Object(D.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.weather.currentWeather||"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){var a,r,n=(a=t.coords.latitude,r=t.coords.longitude,a>43.38&&a<48.16&&r>20.16&&r<29.42?"romanian":"english");e.setLocalization(n),e.props.fetchWeather(t.coords.latitude,t.coords.longitude)}),(function(t){console.log(t.message),e.setLocalization("romanian"),e.props.fetchWeather(45.43,28.04)}))}},{key:"render",value:function(){return Object(n.jsx)("div",{children:this.onLoadWeather()})}}]),a}(i.Component),be=Object(x.b)((function(e){return{weather:e.weatherReducer.weather,localization:e.localizationReducer.language}}),(function(e){return{fetchWeather:Object(U.b)(ue,e),changeLanguage:Object(U.b)(C,e)}}))(he),pe=a(508),xe=a(205),ge=a(509),Oe=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language}));return Object(n.jsxs)(O.a,{container:!0,spacing:2,style:{width:"100%"},children:[Object(n.jsx)(O.a,{item:!0,xs:2,sm:2,md:3}),Object(n.jsx)(O.a,{item:!0,xs:10,sm:9,md:6,children:Object(n.jsxs)("div",{style:{textAlign:"left",marginLeft:"10px",marginBottom:"20px"},children:[Object(n.jsx)(H.a,{variant:"subtitle1",className:"typography-secondary",children:t.selected===r.ENGLISH?e.forecast.weather[0].description:""}),Object(n.jsxs)(O.a,{container:!0,spacing:2,style:{marginTop:"15px"},children:[Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(ge.a,{variant:"outlined",style:{background:"transparent"},children:Object(n.jsx)(G,{itemType:B.WIND,value:e.forecast.windSpeed})})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(ge.a,{variant:"outlined",style:{background:"transparent"},children:Object(n.jsx)(G,{itemType:B.CLOUD_COVER,value:e.forecast.clouds})})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(ge.a,{variant:"outlined",style:{background:"transparent"},children:Object(n.jsx)(G,{itemType:B.UV_INDEX,value:e.forecast.uvi})})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(ge.a,{variant:"outlined",style:{background:"transparent"},children:Object(n.jsx)(G,{itemType:B.PRESSURE,value:e.forecast.pressure})})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(ge.a,{variant:"outlined",style:{background:"transparent"},children:Object(n.jsx)(G,{itemType:B.SUNRISE,value:Y(e.forecast.sunrise)})})}),Object(n.jsx)(O.a,{item:!0,xs:6,md:4,lg:3,children:Object(n.jsx)(ge.a,{variant:"outlined",style:{background:"transparent"},children:Object(n.jsx)(G,{itemType:B.SUNSET,value:Y(e.forecast.sunset)})})})]})]})}),Object(n.jsx)(O.a,{item:!0,xs:1,sm:1,md:3,style:{width:"100%"}})]})},me=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language}));return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)(O.a,{container:!0,spacing:2,style:{margin:"auto",width:"98%"},children:[Object(n.jsx)(O.a,{item:!0,xs:2,md:3,children:Object(n.jsx)("div",{style:{textAlign:"right"},children:Object(n.jsx)(_,{iconId:e.forecast.weather[0].id,day:!0,size:58})})}),Object(n.jsx)(O.a,{item:!0,xs:8,md:6,children:Object(n.jsxs)("div",{style:{textAlign:"left"},onClick:e.expandClick,children:[Object(n.jsx)(H.a,{variant:"h6",className:"typography-primary",children:Object(n.jsx)("strong",{children:K(e.forecast.dt,t)})}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(b.L,{size:20,color:"#7d8b8e"}),Object(n.jsxs)(H.a,{variant:"subtitle2",className:"typography-secondary",style:{marginRight:"20px"},children:[e.forecast.precipitation," %"]}),Object(n.jsx)(b.v,{size:20,color:"#86c3d6"}),Object(n.jsxs)(H.a,{variant:"subtitle2",className:"typography-secondary",children:[e.forecast.maxTemp,"\xb0 | ",e.forecast.minTemp,"\xb0"]})]})]})}),Object(n.jsx)(O.a,{item:!0,xs:2,md:3,children:Object(n.jsx)("div",{style:{textAlign:"left"},children:Object(n.jsx)(pe.a,{onClick:e.expandClick,children:e.expanded?Object(n.jsx)(p.a,{size:32}):Object(n.jsx)(p.b,{size:32})})})})]}),Object(n.jsx)(xe.UnmountClosed,{isOpened:e.expanded,children:Object(n.jsx)(Oe,{forecast:e.forecast})})]})},ye=function(e){Object(P.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={expanded:[]},e.initLocalState=function(t){for(var a=[],r=0;r<t;r++)a.push(!1);e.setState((function(){return{expanded:a}}))},e.onExpandClick=function(t){e.setState((function(e){return{expanded:e.expanded.map((function(e,a){return a===t?!e:e}))}}))},e.fetchWeatherForecast=function(){var t=[Object(n.jsx)($,{},"fetching")];return e.props.forecast&&(t=e.props.forecast.filter((function(e,t){return 0!==t})).map((function(t,a){return Object(n.jsx)(me,{forecast:t,expanded:e.state.expanded[a],expandClick:function(){return e.onExpandClick(a)}},t.dt)}))),t},e}return Object(D.a)(a,[{key:"componentDidMount",value:function(){this.props.forecast&&0===this.state.expanded.length?this.initLocalState(this.props.forecast.length):this.props.history.push("/")}},{key:"render",value:function(){return Object(n.jsx)("div",{children:this.fetchWeatherForecast()})}}]),a}(i.Component),fe=Object(l.g)(Object(x.b)((function(e){return{forecast:e.weatherReducer.weather.forecast}}))(ye));!function(e){e[e.TEMPERATURE=0]="TEMPERATURE",e[e.WIND=1]="WIND",e[e.PRECIPITATION=2]="PRECIPITATION"}(V||(V={}));var ve=V,Ie=a(138),we=a(517),ze=a(30),Te=function(e){var t="number"===typeof e.dt?X(+e.dt).toString():e.dt,a=Object(n.jsx)(b.B,{size:e.size});return"0"!==t&&"12"!==t||(a=Object(n.jsx)(b.B,{size:e.size})),"1"!==t&&"13"!==t||(a=Object(n.jsx)(b.y,{size:e.size})),"2"!==t&&"14"!==t||(a=Object(n.jsx)(b.C,{size:e.size})),"3"!==t&&"15"!==t||(a=Object(n.jsx)(b.D,{size:e.size})),"4"!==t&&"16"!==t||(a=Object(n.jsx)(b.E,{size:e.size})),"5"!==t&&"17"!==t||(a=Object(n.jsx)(b.F,{size:e.size})),"6"!==t&&"18"!==t||(a=Object(n.jsx)(b.G,{size:e.size})),"7"!==t&&"19"!==t||(a=Object(n.jsx)(b.H,{size:e.size})),"8"!==t&&"20"!==t||(a=Object(n.jsx)(b.I,{size:e.size})),"9"!==t&&"21"!==t||(a=Object(n.jsx)(b.J,{size:e.size})),"10"!==t&&"22"!==t||(a=Object(n.jsx)(b.z,{size:e.size})),"11"!==t&&"23"!==t||(a=Object(n.jsx)(b.A,{size:e.size})),Object(n.jsx)("div",{children:a})},Ee=function(e){var t="",a=Object(n.jsx)(b.a,{size:20,color:"#000"});if(e.active)switch(e.chartType){case ve.TEMPERATURE:t=e.payload[0].payload.temp+"\xb0",a=Object(n.jsx)(b.v,{size:20,color:"#86c3d6"});break;case ve.WIND:t=e.payload[0].payload.windSpeed+" km/h",a=Object(n.jsx)(b.s,{size:20,color:"#becbd1"});break;case ve.PRECIPITATION:t=e.payload[0].payload.precipitation+"%",a=Object(n.jsx)(b.L,{size:20,color:"#666"});break;default:t=e.payload[0].payload.temp+"\xb0",a=Object(n.jsx)(b.v,{size:20,color:"#86c3d6"})}var r=null;return e.active&&(r=Object(n.jsx)(ge.a,{elevation:1,style:{padding:"10px",background:"rgba(255, 255, 255, 0.95)"},children:Object(n.jsxs)(O.a,{container:!0,spacing:3,children:[Object(n.jsxs)(O.a,{item:!0,children:[Object(n.jsx)(Te,{dt:e.payload[0].payload.dt.toString(),size:20}),Object(n.jsx)(H.a,{children:Object(n.jsxs)("strong",{children:[e.payload[0].payload.dt,":00"]})})]}),Object(n.jsxs)(O.a,{item:!0,children:[a,Object(n.jsx)(H.a,{children:t})]})]})})),Object(n.jsx)(c.a.Fragment,{children:r})},Se=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language})),a=[];e.hourlyWeather.forEach((function(e,t){var r=Object(Ie.a)(Object(Ie.a)({},e),{},{dt:X(e.dt)});t%3===0&&a.push(r)}));var r="temp",i="\xb0C";switch(e.chartType){case ve.TEMPERATURE:r="temp",i="\xb0C";break;case ve.WIND:r="windSpeed",i="km/h";break;case ve.PRECIPITATION:r="precipitation",i="(%)";break;default:i="\xb0C"}return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(we.a,{title:t.language.get("chart-tooltip-temperature"),children:Object(n.jsx)(pe.a,{color:e.chartType===ve.TEMPERATURE?"primary":"default",onClick:function(){return e.chartTypeHandler(ve.TEMPERATURE)},children:Object(n.jsx)(b.v,{size:32})})}),Object(n.jsx)(we.a,{title:t.language.get("chart-tooltip-wind"),children:Object(n.jsx)(pe.a,{color:e.chartType===ve.WIND?"primary":"default",onClick:function(){return e.chartTypeHandler(ve.WIND)},children:Object(n.jsx)(b.s,{size:32})})}),Object(n.jsx)(we.a,{title:t.language.get("chart-tooltip-precipitation"),children:Object(n.jsx)(pe.a,{color:e.chartType===ve.PRECIPITATION?"primary":"default",onClick:function(){return e.chartTypeHandler(ve.PRECIPITATION)},children:Object(n.jsx)(b.L,{size:32})})})]}),Object(n.jsxs)(O.a,{container:!0,style:{justifyContent:"center"},children:[Object(n.jsx)(O.a,{md:2}),Object(n.jsx)(O.a,{xs:12,md:8,style:{display:"flex",justifyContent:"center"},children:Object(n.jsx)(ze.e,{width:"95%",height:250,children:Object(n.jsxs)(ze.d,{margin:{top:35,left:10,right:10},data:a,children:[Object(n.jsxs)(ze.g,{dataKey:"dt",tickLine:!1,tick:Object(n.jsx)("div",{}),children:[Object(n.jsx)(ze.b,{position:"insideBottomLeft",offset:0,value:t.language.get("chart-axis-now")}),Object(n.jsx)(ze.b,{position:"insideBottom",offset:0,value:t.language.get("chart-axis-24")}),Object(n.jsx)(ze.b,{position:"insideBottomRight",offset:0,value:t.language.get("chart-axis-48")})]}),Object(n.jsx)(ze.h,{dataKey:r,width:30,tickLine:!1,axisLine:!1,children:Object(n.jsx)(ze.b,{position:"top",offset:20,value:i})}),Object(n.jsx)(ze.a,{stroke:"#eee",strokeDasharray:"3 5",horizontal:!1}),Object(n.jsx)(ze.f,{content:Object(n.jsx)(Ee,{chartType:e.chartType})}),Object(n.jsx)(ze.c,{dataKey:r,strokeWidth:2})]})})}),Object(n.jsx)(O.a,{md:2})]})]})},Re=a(216),Ce=function(e){var t,a,r=!0,i=Object(Re.a)(e.forecast.slice(0,3));try{for(i.s();!(t=i.n()).done;){var c=t.value;q(c.dt)===q(e.hourly.dt)&&(r=J(e.hourly.dt,c.sunrise,c.sunset))}}catch(s){i.e(s)}finally{i.f()}return Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginRight:"20px"},children:[Object(n.jsx)(O.a,{xs:1,md:3,style:{width:"100%"}}),Object(n.jsxs)(O.a,{container:!0,spacing:2,style:{alignItems:"center",margin:"3px 0",width:"90%"},children:[Object(n.jsxs)(O.a,{xs:3,md:2,style:{display:"flex",justifyContent:"right"},children:[Object(n.jsx)(Te,{dt:e.hourly.dt,size:25}),Object(n.jsx)(H.a,{variant:"body1",children:(a=e.hourly.dt,new Date(a).getHours()+":00")})]}),Object(n.jsx)(O.a,{xs:1,md:1,children:Object(n.jsx)(_,{iconId:e.hourly.weather[0].id,day:r,size:35})}),Object(n.jsx)(O.a,{xs:3,md:3,style:{width:"100%"}}),Object(n.jsxs)(O.a,{xs:3,md:2,style:{display:"flex",justifyContent:"left"},children:[Object(n.jsx)(b.L,{size:25,color:"#666"}),Object(n.jsxs)(H.a,{variant:"body1",children:[e.hourly.precipitation,"%"]})]}),Object(n.jsxs)(O.a,{xs:2,md:4,style:{display:"flex",justifyContent:"left"},children:[Object(n.jsx)(b.v,{size:25,color:"#86c3d6"}),Object(n.jsxs)(H.a,{variant:"body1",children:[e.hourly.temp,"\xb0"]})]})]})]})},Ne=function(e){Object(P.a)(a,e);var t=Object(L.a)(a);function a(){var e;Object(A.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={chartType:ve.TEMPERATURE,moreInfo:!1},e.fetchHourlyWeather=function(){var t=Object(n.jsx)($,{},"fetching");return e.props.hourlyWeather&&(t=Object(n.jsx)(Se,{hourlyWeather:e.props.hourlyWeather,chartType:e.state.chartType,chartTypeHandler:function(t){return e.onChartButtonClick(t)}})),t},e.fetchHourlyDetailWeather=function(){var t=null;return e.props.hourlyWeather&&(t=e.props.hourlyWeather.filter((function(e,t){return 0!==t})).map((function(t,a){return e.state.moreInfo?a%3===0?Object(n.jsx)(Ce,{hourly:t,forecast:e.props.forecastWeather},a):null:a<3?Object(n.jsx)(Ce,{hourly:t,forecast:e.props.forecastWeather},a):null}))),Object(n.jsx)("div",{style:{marginTop:"50px"},children:t})},e.onChartButtonClick=function(t){e.setState((function(e){return{chartType:t}}))},e.onMoreButtonClick=function(){e.setState((function(e){return{moreInfo:!e.moreInfo}})),e.fetchHourlyDetailWeather()},e}return Object(D.a)(a,[{key:"componentDidMount",value:function(){this.props.hourlyWeather||this.props.history.push("/")}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[this.fetchHourlyWeather(),this.fetchHourlyDetailWeather(),Object(n.jsxs)(u.a,{variant:"outlined",size:"small",style:{margin:"20px 0"},onClick:this.onMoreButtonClick,children:[this.state.moreInfo?Object(n.jsx)(p.d,{}):Object(n.jsx)(p.e,{}),this.state.moreInfo?this.props.localization.language.get("toggle-less"):this.props.localization.language.get("toggle-more")]})]})}}]),a}(i.Component),ke=Object(l.g)(Object(x.b)((function(e){return{hourlyWeather:e.weatherReducer.weather.hourlyWeather,forecastWeather:e.weatherReducer.weather.forecast,localization:e.localizationReducer.language}}))(Ne));var We=Object(l.g)((function(){return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(W,{}),Object(n.jsxs)(l.d,{children:[Object(n.jsx)(l.b,{path:"/hourly",component:ke}),Object(n.jsx)(l.b,{path:"/forecast",component:fe}),Object(n.jsx)(l.b,{path:"/",component:be}),Object(n.jsx)(l.a,{to:"/"})]})]})})),Ae=a(219),De=a(217),Pe=a(218),Le={loading:!1,error:"",weather:{}},Ue=function(e){return{loading:!1,error:"",weather:e.weather}},He=function(e){return{loading:!1,error:e.error,weather:{}}},Me={language:T},_e=function(e){return{language:e.language}},Fe=(Object(Pe.createLogger)(),[]);Fe=[De.a];var Ve=Object(U.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0,error:"",weather:{}};case ie:return Ue(t);case ce:return He(t);default:return e}},localizationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return _e(t);default:return e}}}),Be=Object(U.d)(Ve,U.a.apply(void 0,Object(Ae.a)(Fe)));o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(x.a,{store:Be,children:Object(n.jsx)(h.a,{basename:"/react-weather",children:Object(n.jsx)(We,{})})})}),document.getElementById("root"))}},[[475,1,2]]]);
//# sourceMappingURL=main.be8831e8.chunk.js.map