(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[5],{546:function(e,t,a){"use strict";a.r(t);var r,c=a(62),i=a(63),s=a(84),n=a(83),o=a(2),l=a(1),j=a.n(l),d=a(13),h=a(18),b=a(81);!function(e){e[e.TEMPERATURE=0]="TEMPERATURE",e[e.WIND=1]="WIND",e[e.PRECIPITATION=2]="PRECIPITATION"}(r||(r={}));var u=r,p=a(544),x=a(197),O=a(201),y=a(164),f=a(79),g=a(9),m=a(543),z=a(50),T=a(194),v=a(59),C=function(e){var t="number"===typeof e.dt?Object(z.b)(+e.dt).toString():e.dt,a=Object(o.jsx)(g.C,{size:e.size});return"0"!==t&&"12"!==t||(a=Object(o.jsx)(g.C,{size:e.size})),"1"!==t&&"13"!==t||(a=Object(o.jsx)(g.z,{size:e.size})),"2"!==t&&"14"!==t||(a=Object(o.jsx)(g.D,{size:e.size})),"3"!==t&&"15"!==t||(a=Object(o.jsx)(g.E,{size:e.size})),"4"!==t&&"16"!==t||(a=Object(o.jsx)(g.F,{size:e.size})),"5"!==t&&"17"!==t||(a=Object(o.jsx)(g.G,{size:e.size})),"6"!==t&&"18"!==t||(a=Object(o.jsx)(g.H,{size:e.size})),"7"!==t&&"19"!==t||(a=Object(o.jsx)(g.I,{size:e.size})),"8"!==t&&"20"!==t||(a=Object(o.jsx)(g.J,{size:e.size})),"9"!==t&&"21"!==t||(a=Object(o.jsx)(g.K,{size:e.size})),"10"!==t&&"22"!==t||(a=Object(o.jsx)(g.A,{size:e.size})),"11"!==t&&"23"!==t||(a=Object(o.jsx)(g.B,{size:e.size})),Object(o.jsx)("div",{children:a})},I=function(e){var t="",a=Object(o.jsx)(g.a,{size:20,color:"#000"}),r=!1;if(e.active)switch(e.chartType){case u.TEMPERATURE:t=e.payload[0].payload.temp+String.fromCharCode(176),a=Object(o.jsx)(g.v,{size:20,color:"#86c3d6"}),r=!0;break;case u.WIND:t=e.payload[0].payload.windSpeed+" km/h",a=Object(o.jsx)(g.s,{size:20,color:"#becbd1"});break;case u.PRECIPITATION:t=e.payload[0].payload.precipitation+"%",a=Object(o.jsx)(g.M,{size:20,color:"#666"});break;default:t=e.payload[0].payload.temp+String.fromCharCode(176),a=Object(o.jsx)(g.v,{size:20,color:"#86c3d6"}),r=!0}var c=null;return e.active&&(c=Object(o.jsx)(T.a,{elevation:1,style:{padding:"10px",background:"rgba(255, 255, 255, 0.95)"},children:Object(o.jsxs)(f.a,{container:!0,spacing:3,children:[Object(o.jsxs)(f.a,{item:!0,children:[Object(o.jsx)(C,{dt:e.payload[0].payload.dt.toString(),size:20}),Object(o.jsx)(v.a,{children:Object(o.jsxs)("strong",{children:[e.payload[0].payload.dt,":00"]})})]}),Object(o.jsxs)(f.a,{item:!0,children:[a,Object(o.jsx)(v.a,{children:t})]}),Object(o.jsxs)(f.a,{item:!0,style:r?{display:"block"}:{display:"none"},children:[Object(o.jsx)(g.w,{size:20,color:"#ccc"}),Object(o.jsxs)(v.a,{style:{color:"#ccc"},children:["(",e.payload[0].payload.feelsLike,"\xb0)"]})]})]})})),Object(o.jsx)(j.a.Fragment,{children:c})},k=a(51),E=function(e){var t=Object(d.d)((function(e){return e.localizationReducer.language})),a=[];e.hourlyWeather.forEach((function(e,t){var r=Object(p.a)(Object(p.a)({},e),{},{dt:Object(z.b)(e.dt)});t%3===0&&a.push(r)}));var r="temp",c=String.fromCharCode(176)+"C";switch(e.chartType){case u.TEMPERATURE:r="temp",c=String.fromCharCode(176)+"C";break;case u.WIND:r="windSpeed",c="km/h";break;case u.PRECIPITATION:r="precipitation",c="(%)";break;default:c=String.fromCharCode(176)+"C"}return Object(o.jsx)(j.a.Fragment,{children:Object(o.jsx)(k.Spring,{from:{opacity:0},to:{opacity:1},children:function(i){return Object(o.jsx)("div",{style:i,children:Object(o.jsxs)(x.a,{borderRadius:16,className:"box-default",style:{marginTop:"20px"},children:[Object(o.jsxs)("div",{style:{paddingTop:"10px"},children:[Object(o.jsx)(O.a,{title:t.language.get("chart-tooltip-temperature"),children:Object(o.jsx)(y.a,{color:e.chartType===u.TEMPERATURE?"primary":"default",onClick:function(){return e.chartTypeHandler(u.TEMPERATURE)},children:Object(o.jsx)(g.v,{size:32})})}),Object(o.jsx)(O.a,{title:t.language.get("chart-tooltip-wind"),children:Object(o.jsx)(y.a,{color:e.chartType===u.WIND?"primary":"default",onClick:function(){return e.chartTypeHandler(u.WIND)},children:Object(o.jsx)(g.s,{size:32})})}),Object(o.jsx)(O.a,{title:t.language.get("chart-tooltip-precipitation"),children:Object(o.jsx)(y.a,{color:e.chartType===u.PRECIPITATION?"primary":"default",onClick:function(){return e.chartTypeHandler(u.PRECIPITATION)},children:Object(o.jsx)(g.M,{size:32})})})]}),Object(o.jsxs)(f.a,{container:!0,style:{justifyContent:"center"},children:[Object(o.jsx)(f.a,{md:2}),Object(o.jsx)(f.a,{xs:12,md:8,style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)(m.e,{width:"95%",height:250,children:Object(o.jsxs)(m.d,{margin:{top:35,left:10,right:10,bottom:20},data:a,children:[Object(o.jsxs)(m.g,{dataKey:"dt",tickLine:!1,tick:Object(o.jsx)("div",{}),children:[Object(o.jsx)(m.b,{position:"insideBottomLeft",offset:0,value:t.language.get("chart-axis-now")}),Object(o.jsx)(m.b,{position:"insideBottom",offset:0,value:t.language.get("chart-axis-24")}),Object(o.jsx)(m.b,{position:"insideBottomRight",offset:0,value:t.language.get("chart-axis-48")})]}),Object(o.jsx)(m.h,{dataKey:r,width:30,tickLine:!1,axisLine:!1,children:Object(o.jsx)(m.b,{position:"top",offset:20,value:c})}),Object(o.jsx)(m.a,{stroke:"#eee",strokeDasharray:"3 5",horizontal:!1}),Object(o.jsx)(m.f,{content:Object(o.jsx)(I,{chartType:e.chartType})}),Object(o.jsx)(m.c,{dataKey:r,strokeWidth:2})]})})}),Object(o.jsx)(f.a,{md:2})]})]})})}})})},R=a(85),W=a(80),w=function(e){var t,a=!0,r=Object(R.a)(e.forecast.slice(0,3));try{for(r.s();!(t=r.n()).done;){var c=t.value;Object(z.d)(c.dt)===Object(z.d)(e.hourly.dt)&&(a=Object(z.a)(e.hourly.dt,c.sunrise,c.sunset))}}catch(i){r.e(i)}finally{r.f()}return Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginRight:"20px"},children:[Object(o.jsx)(f.a,{xs:1,md:3,style:{width:"100%"}}),Object(o.jsxs)(f.a,{container:!0,spacing:2,style:{alignItems:"center",margin:"3px 0",width:"90%"},children:[Object(o.jsxs)(f.a,{xs:3,md:2,style:{display:"flex",justifyContent:"right"},children:[Object(o.jsx)(C,{dt:e.hourly.dt,size:25}),Object(o.jsx)(v.a,{variant:"body1",children:Object(z.c)(e.hourly.dt)})]}),Object(o.jsx)(f.a,{xs:1,md:1,children:Object(o.jsx)(W.a,{iconId:e.hourly.weather[0].id,day:a,size:35})}),Object(o.jsx)(f.a,{xs:1,md:3,style:{width:"100%"}}),Object(o.jsxs)(f.a,{xs:3,md:2,style:{display:"flex",justifyContent:"left"},children:[Object(o.jsx)(g.M,{size:25,color:"#666"}),Object(o.jsxs)(v.a,{variant:"body1",children:[e.hourly.precipitation,"%"]})]}),Object(o.jsxs)(f.a,{xs:4,md:4,style:{display:"flex",justifyContent:"left"},children:[Object(o.jsx)(g.v,{size:25,color:"#86c3d6"}),Object(o.jsxs)(v.a,{variant:"body1",children:[e.hourly.temp,"\xb0"]}),Object(o.jsxs)(v.a,{variant:"body1",style:{marginLeft:"5px",color:"#ccc"},children:["(",e.hourly.feelsLike,"\xb0)"]})]})]})]})},P=a(165),A=a(36),N=function(e){Object(s.a)(a,e);var t=Object(n.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={chartType:u.TEMPERATURE,moreInfo:!1},e.fetchWeatherChart=function(){var t=Object(o.jsx)(b.a,{},"fetching");return e.props.hourlyWeather&&(t=Object(o.jsx)(E,{hourlyWeather:e.props.hourlyWeather,chartType:e.state.chartType,chartTypeHandler:function(t){return e.onChartButtonClick(t)}})),t},e.fetchHourlyDetailWeather=function(){var t=null;return e.props.hourlyWeather&&(t=e.props.hourlyWeather.filter((function(e,t){return 0!==t})).map((function(t,a){return e.state.moreInfo?a%3===0?Object(o.jsx)(w,{hourly:t,forecast:e.props.forecastWeather},a):null:a<3?Object(o.jsx)(w,{hourly:t,forecast:e.props.forecastWeather},a):null}))),t},e.onChartButtonClick=function(t){e.setState((function(e){return{chartType:t}}))},e.onMoreButtonClick=function(){e.setState((function(e){return{moreInfo:!e.moreInfo}})),e.fetchHourlyDetailWeather()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.hourlyWeather||this.props.history.push("/")}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{children:[this.fetchWeatherChart(),Object(o.jsx)("div",{style:{marginTop:"20px"},children:Object(o.jsx)(k.Spring,{from:{opacity:0},to:{opacity:1},delay:200,children:function(t){return Object(o.jsx)("div",{style:t,children:Object(o.jsxs)(x.a,{borderRadius:16,className:"box-default",style:{padding:"10px 0",marginBottom:"20px"},children:[e.fetchHourlyDetailWeather(),Object(o.jsxs)(P.a,{variant:"outlined",size:"small",style:{margin:"10px 0",background:"white"},onClick:e.onMoreButtonClick,children:[e.state.moreInfo?Object(o.jsx)(A.h,{}):Object(o.jsx)(A.i,{}),e.state.moreInfo?e.props.localization.language.get("toggle-less"):e.props.localization.language.get("toggle-more")]})]})})}})})]})}}]),a}(l.Component);t.default=Object(h.g)(Object(d.b)((function(e){return{hourlyWeather:e.weatherReducer.weather.hourlyWeather,forecastWeather:e.weatherReducer.weather.forecast,localization:e.localizationReducer.language}}))(N))}}]);
//# sourceMappingURL=5.88ffaadf.chunk.js.map