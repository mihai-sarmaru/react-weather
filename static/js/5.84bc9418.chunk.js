(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[5],{547:function(e,t,r){"use strict";r.r(t);var a,c=r(62),i=r(63),s=r(84),n=r(83),o=r(2),l=r(1),j=r.n(l),d=r(13),h=r(18),b=r(81);!function(e){e[e.TEMPERATURE=0]="TEMPERATURE",e[e.WIND=1]="WIND",e[e.PRECIPITATION=2]="PRECIPITATION"}(a||(a={}));var u=a,p=r(545),x=r(198),O=r(202),y=r(165),f=r(79),g=r(9),m=r(544),z=r(50),T=r(195),v=r(59),C=function(e){var t="number"===typeof e.dt?Object(z.b)(+e.dt).toString():e.dt,r=Object(o.jsx)(g.B,{size:e.size});return"0"!==t&&"12"!==t||(r=Object(o.jsx)(g.B,{size:e.size})),"1"!==t&&"13"!==t||(r=Object(o.jsx)(g.y,{size:e.size})),"2"!==t&&"14"!==t||(r=Object(o.jsx)(g.C,{size:e.size})),"3"!==t&&"15"!==t||(r=Object(o.jsx)(g.D,{size:e.size})),"4"!==t&&"16"!==t||(r=Object(o.jsx)(g.E,{size:e.size})),"5"!==t&&"17"!==t||(r=Object(o.jsx)(g.F,{size:e.size})),"6"!==t&&"18"!==t||(r=Object(o.jsx)(g.G,{size:e.size})),"7"!==t&&"19"!==t||(r=Object(o.jsx)(g.H,{size:e.size})),"8"!==t&&"20"!==t||(r=Object(o.jsx)(g.I,{size:e.size})),"9"!==t&&"21"!==t||(r=Object(o.jsx)(g.J,{size:e.size})),"10"!==t&&"22"!==t||(r=Object(o.jsx)(g.z,{size:e.size})),"11"!==t&&"23"!==t||(r=Object(o.jsx)(g.A,{size:e.size})),Object(o.jsx)("div",{children:r})},I=function(e){var t="",r=Object(o.jsx)(g.a,{size:20,color:"#000"});if(e.active)switch(e.chartType){case u.TEMPERATURE:t=e.payload[0].payload.temp+String.fromCharCode(176),r=Object(o.jsx)(g.v,{size:20,color:"#86c3d6"});break;case u.WIND:t=e.payload[0].payload.windSpeed+" km/h",r=Object(o.jsx)(g.s,{size:20,color:"#becbd1"});break;case u.PRECIPITATION:t=e.payload[0].payload.precipitation+"%",r=Object(o.jsx)(g.L,{size:20,color:"#666"});break;default:t=e.payload[0].payload.temp+String.fromCharCode(176),r=Object(o.jsx)(g.v,{size:20,color:"#86c3d6"})}var a=null;return e.active&&(a=Object(o.jsx)(T.a,{elevation:1,style:{padding:"10px",background:"rgba(255, 255, 255, 0.95)"},children:Object(o.jsxs)(f.a,{container:!0,spacing:3,children:[Object(o.jsxs)(f.a,{item:!0,children:[Object(o.jsx)(C,{dt:e.payload[0].payload.dt.toString(),size:20}),Object(o.jsx)(v.a,{children:Object(o.jsxs)("strong",{children:[e.payload[0].payload.dt,":00"]})})]}),Object(o.jsxs)(f.a,{item:!0,children:[r,Object(o.jsx)(v.a,{children:t})]})]})})),Object(o.jsx)(j.a.Fragment,{children:a})},E=r(51),k=function(e){var t=Object(d.d)((function(e){return e.localizationReducer.language})),r=[];e.hourlyWeather.forEach((function(e,t){var a=Object(p.a)(Object(p.a)({},e),{},{dt:Object(z.b)(e.dt)});t%3===0&&r.push(a)}));var a="temp",c=String.fromCharCode(176)+"C";switch(e.chartType){case u.TEMPERATURE:a="temp",c=String.fromCharCode(176)+"C";break;case u.WIND:a="windSpeed",c="km/h";break;case u.PRECIPITATION:a="precipitation",c="(%)";break;default:c=String.fromCharCode(176)+"C"}return Object(o.jsx)(j.a.Fragment,{children:Object(o.jsx)(E.Spring,{from:{opacity:0},to:{opacity:1},children:function(i){return Object(o.jsx)("div",{style:i,children:Object(o.jsxs)(x.a,{borderRadius:16,className:"box-default",style:{marginTop:"20px"},children:[Object(o.jsxs)("div",{style:{paddingTop:"10px"},children:[Object(o.jsx)(O.a,{title:t.language.get("chart-tooltip-temperature"),children:Object(o.jsx)(y.a,{color:e.chartType===u.TEMPERATURE?"primary":"default",onClick:function(){return e.chartTypeHandler(u.TEMPERATURE)},children:Object(o.jsx)(g.v,{size:32})})}),Object(o.jsx)(O.a,{title:t.language.get("chart-tooltip-wind"),children:Object(o.jsx)(y.a,{color:e.chartType===u.WIND?"primary":"default",onClick:function(){return e.chartTypeHandler(u.WIND)},children:Object(o.jsx)(g.s,{size:32})})}),Object(o.jsx)(O.a,{title:t.language.get("chart-tooltip-precipitation"),children:Object(o.jsx)(y.a,{color:e.chartType===u.PRECIPITATION?"primary":"default",onClick:function(){return e.chartTypeHandler(u.PRECIPITATION)},children:Object(o.jsx)(g.L,{size:32})})})]}),Object(o.jsxs)(f.a,{container:!0,style:{justifyContent:"center"},children:[Object(o.jsx)(f.a,{md:2}),Object(o.jsx)(f.a,{xs:12,md:8,style:{display:"flex",justifyContent:"center"},children:Object(o.jsx)(m.e,{width:"95%",height:250,children:Object(o.jsxs)(m.d,{margin:{top:35,left:10,right:10,bottom:20},data:r,children:[Object(o.jsxs)(m.g,{dataKey:"dt",tickLine:!1,tick:Object(o.jsx)("div",{}),children:[Object(o.jsx)(m.b,{position:"insideBottomLeft",offset:0,value:t.language.get("chart-axis-now")}),Object(o.jsx)(m.b,{position:"insideBottom",offset:0,value:t.language.get("chart-axis-24")}),Object(o.jsx)(m.b,{position:"insideBottomRight",offset:0,value:t.language.get("chart-axis-48")})]}),Object(o.jsx)(m.h,{dataKey:a,width:30,tickLine:!1,axisLine:!1,children:Object(o.jsx)(m.b,{position:"top",offset:20,value:c})}),Object(o.jsx)(m.a,{stroke:"#eee",strokeDasharray:"3 5",horizontal:!1}),Object(o.jsx)(m.f,{content:Object(o.jsx)(I,{chartType:e.chartType})}),Object(o.jsx)(m.c,{dataKey:a,strokeWidth:2})]})})}),Object(o.jsx)(f.a,{md:2})]})]})})}})})},R=r(85),W=r(80),w=function(e){var t,r=!0,a=Object(R.a)(e.forecast.slice(0,3));try{for(a.s();!(t=a.n()).done;){var c=t.value;Object(z.d)(c.dt)===Object(z.d)(e.hourly.dt)&&(r=Object(z.a)(e.hourly.dt,c.sunrise,c.sunset))}}catch(i){a.e(i)}finally{a.f()}return Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginRight:"20px"},children:[Object(o.jsx)(f.a,{xs:1,md:3,style:{width:"100%"}}),Object(o.jsxs)(f.a,{container:!0,spacing:2,style:{alignItems:"center",margin:"3px 0",width:"90%"},children:[Object(o.jsxs)(f.a,{xs:3,md:2,style:{display:"flex",justifyContent:"right"},children:[Object(o.jsx)(C,{dt:e.hourly.dt,size:25}),Object(o.jsx)(v.a,{variant:"body1",children:Object(z.c)(e.hourly.dt)})]}),Object(o.jsx)(f.a,{xs:1,md:1,children:Object(o.jsx)(W.a,{iconId:e.hourly.weather[0].id,day:r,size:35})}),Object(o.jsx)(f.a,{xs:3,md:3,style:{width:"100%"}}),Object(o.jsxs)(f.a,{xs:3,md:2,style:{display:"flex",justifyContent:"left"},children:[Object(o.jsx)(g.L,{size:25,color:"#666"}),Object(o.jsxs)(v.a,{variant:"body1",children:[e.hourly.precipitation,"%"]})]}),Object(o.jsxs)(f.a,{xs:2,md:4,style:{display:"flex",justifyContent:"left"},children:[Object(o.jsx)(g.v,{size:25,color:"#86c3d6"}),Object(o.jsxs)(v.a,{variant:"body1",children:[e.hourly.temp,"\xb0"]})]})]})]})},P=r(166),A=r(36),N=function(e){Object(s.a)(r,e);var t=Object(n.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={chartType:u.TEMPERATURE,moreInfo:!1},e.fetchWeatherChart=function(){var t=Object(o.jsx)(b.a,{},"fetching");return e.props.hourlyWeather&&(t=Object(o.jsx)(k,{hourlyWeather:e.props.hourlyWeather,chartType:e.state.chartType,chartTypeHandler:function(t){return e.onChartButtonClick(t)}})),t},e.fetchHourlyDetailWeather=function(){var t=null;return e.props.hourlyWeather&&(t=e.props.hourlyWeather.filter((function(e,t){return 0!==t})).map((function(t,r){return e.state.moreInfo?r%3===0?Object(o.jsx)(w,{hourly:t,forecast:e.props.forecastWeather},r):null:r<3?Object(o.jsx)(w,{hourly:t,forecast:e.props.forecastWeather},r):null}))),t},e.onChartButtonClick=function(t){e.setState((function(e){return{chartType:t}}))},e.onMoreButtonClick=function(){e.setState((function(e){return{moreInfo:!e.moreInfo}})),e.fetchHourlyDetailWeather()},e}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.props.hourlyWeather||this.props.history.push("/")}},{key:"render",value:function(){var e=this;return Object(o.jsxs)("div",{children:[this.fetchWeatherChart(),Object(o.jsx)("div",{style:{marginTop:"20px"},children:Object(o.jsx)(E.Spring,{from:{opacity:0},to:{opacity:1},delay:200,children:function(t){return Object(o.jsx)("div",{style:t,children:Object(o.jsxs)(x.a,{borderRadius:16,className:"box-default",style:{padding:"10px 0",marginBottom:"20px"},children:[e.fetchHourlyDetailWeather(),Object(o.jsxs)(P.a,{variant:"outlined",size:"small",style:{margin:"10px 0",background:"white"},onClick:e.onMoreButtonClick,children:[e.state.moreInfo?Object(o.jsx)(A.h,{}):Object(o.jsx)(A.i,{}),e.state.moreInfo?e.props.localization.language.get("toggle-less"):e.props.localization.language.get("toggle-more")]})]})})}})})]})}}]),r}(l.Component);t.default=Object(h.g)(Object(d.b)((function(e){return{hourlyWeather:e.weatherReducer.weather.hourlyWeather,forecastWeather:e.weatherReducer.weather.forecast,localization:e.localizationReducer.language}}))(N))}}]);
//# sourceMappingURL=5.84bc9418.chunk.js.map