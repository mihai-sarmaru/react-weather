(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{103:function(e,t,n){},13:function(e,t,n){"use strict";var a;!function(e){e[e.PRECIPITATION_CHANCE=0]="PRECIPITATION_CHANCE",e[e.WIND=1]="WIND",e[e.UV_INDEX=2]="UV_INDEX",e[e.CLOUD_COVER=3]="CLOUD_COVER",e[e.PRESSURE=4]="PRESSURE",e[e.HUMIDITY=5]="HUMIDITY",e[e.DEW_POINT=6]="DEW_POINT",e[e.VISIBILITY=7]="VISIBILITY",e[e.SUNRISE=8]="SUNRISE",e[e.SUNSET=9]="SUNSET"}(a||(a={})),t.a=a},141:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(1),i=n.n(r),c=n(11),s=n.n(c),o=(n(103),n(15)),l=n(142),u=function(){return Object(a.jsx)("div",{style:{margin:"50px 0"},children:Object(a.jsx)(l.a,{})})},d=n(92),j=n(175),h=n(143),g=n(32),b=n(9),p=n(66),x=n(18),O=n(176),f=n(63),m=n(178),v=n(179),w=n(180),y=n(171),I=n(177),S=n(24),z="CHANGE_LANGUAGE",E=new Map;E.set("loading","Fetching weather"),E.set("nav-now","Now"),E.set("nav-hourly","Hourly"),E.set("nav-later","Later"),E.set("nav-settings","Settings"),E.set("current-feels","Feels like"),E.set("detail-chance","Chance"),E.set("detail-wind","Wind speed"),E.set("detail-uv","UV Index"),E.set("detail-cloud","Cloud cover"),E.set("detail-pressure","Pressure"),E.set("detail-humidity","Humidity"),E.set("detail-dew","Dew point"),E.set("detail-visibility","Visibility"),E.set("detail-sunrise","Sunrise"),E.set("detail-sunset","Sunset"),E.set("chart-tooltip-temperature","Temperature"),E.set("chart-tooltip-wind","Wind speed"),E.set("chart-tooltip-precipitation","Precipitation"),E.set("chart-axis-now","Now"),E.set("chart-axis-24","24h"),E.set("chart-axis-48","48h"),E.set("toggle-more","More"),E.set("toggle-less","Less"),E.set("options-lang-title","Weather language"),E.set("options-lang-en","English"),E.set("options-lang-ro","Romanian");var N={language:E,weekArray:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],selected:S.a.ENGLISH},T=new Map;T.set("loading","Se incarca vremea"),T.set("nav-now","Acum"),T.set("nav-hourly","Urmeaza"),T.set("nav-later","Viitor"),T.set("nav-settings","Setari"),T.set("current-feels","Se simte"),T.set("detail-chance","Sanse"),T.set("detail-wind","Vant"),T.set("detail-uv","Index UV"),T.set("detail-cloud","Acoperire"),T.set("detail-pressure","Presiune"),T.set("detail-humidity","Umiditate"),T.set("detail-dew","Condens"),T.set("detail-visibility","Visibilitate"),T.set("detail-sunrise","Rasarit"),T.set("detail-sunset","Apus"),T.set("chart-tooltip-temperature","Temperatura"),T.set("chart-tooltip-wind","Vant"),T.set("chart-tooltip-precipitation","Precipitatie"),T.set("chart-axis-now","Acum"),T.set("chart-axis-24","24 ore"),T.set("chart-axis-48","48 ore"),T.set("toggle-more","Mai Mult"),T.set("toggle-less","Mai Putin"),T.set("options-lang-title","Schimba limba"),T.set("options-lang-en","Engleza"),T.set("options-lang-ro","Romana");var W={language:T,weekArray:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],selected:S.a.ROMANIAN},A=function(e){return{type:z,language:"english"===e?N:W}},k=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language})),t=Object(x.c)();return Object(a.jsx)("div",{style:{width:"70%",margin:"10px auto"},children:Object(a.jsxs)(m.a,{component:"fieldset",children:[Object(a.jsx)(v.a,{component:"legend",children:e.language.get("options-lang-title")}),Object(a.jsxs)(w.a,{"aria-label":"language",name:"language",value:e.selected,onChange:function(e){var n=0===+e.target.value?"english":"romanian";t(A(n)),localStorage.setItem("localization",n)},children:[Object(a.jsx)(y.a,{value:S.a.ENGLISH,control:Object(a.jsx)(I.a,{}),label:e.language.get("options-lang-en")}),Object(a.jsx)(y.a,{value:S.a.ROMANIAN,control:Object(a.jsx)(I.a,{}),label:e.language.get("options-lang-ro")})]})]})})},R=function(e){return Object(a.jsx)(O.a,{anchor:"top",open:e.open,onClose:e.onClose,children:Object(a.jsx)(f.a,{container:!0,children:Object(a.jsx)(k,{})})})},C=function(){var e=Object(x.d)((function(e){return e.localizationReducer.language})),t=Object(r.useState)({drawer:!1}),n=Object(d.a)(t,2),c=n[0],s=n[1],o=function(){s({drawer:!c.drawer})};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)(j.a,{variant:"outlined",size:"small",style:{margin:"40px 0"},children:[Object(a.jsx)(h.a,{startIcon:Object(a.jsx)(b.v,{}),component:g.b,to:"/",children:e.language.get("nav-now")}),Object(a.jsx)(h.a,{startIcon:Object(a.jsx)(b.E,{}),component:g.b,to:"/hourly",children:e.language.get("nav-hourly")}),Object(a.jsx)(h.a,{startIcon:Object(a.jsx)(b.M,{}),component:g.b,to:"/forecast",children:e.language.get("nav-later")}),Object(a.jsx)(h.a,{"aria-label":e.language.get("nav-settings"),onClick:o,children:Object(a.jsx)(p.c,{})})]}),Object(a.jsx)(R,{open:c.drawer,onClose:o})]})},L=n(47),U=n(48),D=n(70),P=n(69),_=n(27),H=(n(109),n(57)),F=n(55),M=n(67),V=function(e){var t=Object(x.d)((function(e){return e.localizationReducer.language}));return Object(a.jsxs)(f.a,{container:!0,spacing:2,style:{marginBottom:"40px",width:"98%"},children:[Object(a.jsx)(f.a,{item:!0,xs:6,children:Object(a.jsx)("div",{style:{textAlign:"right"},children:Object(a.jsx)(M.a,{iconId:e.weatherIconId,day:e.day,size:t.selected===S.a.ENGLISH?140:110})})}),Object(a.jsx)(f.a,{item:!0,xs:6,children:Object(a.jsxs)("div",{style:{textAlign:"left"},children:[Object(a.jsx)(F.Spring,{from:{number:0},to:{number:e.temperature},children:function(e){return Object(a.jsxs)(H.a,{variant:"h2",className:"typography-primary",children:[e.number.toFixed(),"\xb0"]})}}),Object(a.jsxs)(H.a,{variant:"h6",className:"typography-primary",children:[t.language.get("current-feels")," ",e.feelsLike,"\xb0"]}),Object(a.jsx)(H.a,{variant:"subtitle1",className:"typography-secondary",children:t.selected===S.a.ENGLISH?e.description:""})]})})]})},B=n(23),G=n(13),Y=n(38),X=function(e){return Object(a.jsx)(F.Spring,{from:{opacity:0},to:{opacity:1},children:function(t){return Object(a.jsx)("div",{style:t,children:Object(a.jsx)("div",{style:{margin:"auto",width:"80%"},children:Object(a.jsxs)(f.a,{container:!0,spacing:2,children:[Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.PRECIPITATION_CHANCE,value:e.precipitation})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.WIND,value:e.currentWeather.windSpeed})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.UV_INDEX,value:e.currentWeather.uvi})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.CLOUD_COVER,value:e.currentWeather.clouds})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.PRESSURE,value:e.currentWeather.pressure})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.HUMIDITY,value:e.currentWeather.humidity})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.DEW_POINT,value:e.currentWeather.dewPoint})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.VISIBILITY,value:e.currentWeather.visibility})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.SUNRISE,value:Object(Y.f)(e.currentWeather.sunrise)})}),Object(a.jsx)(f.a,{item:!0,xs:6,md:4,lg:3,children:Object(a.jsx)(B.a,{itemType:G.a.SUNSET,value:Object(Y.f)(e.currentWeather.sunset)})})]})})})}})},J=n(68),K=n(88),q=n.n(K),Q=function(){function e(){Object(L.a)(this,e)}return Object(U.a)(e,null,[{key:"getBaseAPI",value:function(){return"https://api.openweathermap.org/data/2.5"}},{key:"getApiDefaultParams",value:function(){return"onecall?exclude=minutely&units=metric&appid="+this.buildApi(!0)}},{key:"getApiLocK",value:function(){return this.buildApi(!1)}},{key:"buildApi",value:function(e){var t=e?"f20b5ed34066a6c3d54f18fb73f573adms":"blank";return t.replace(t.substring(t.length-2,t.length),"")}}]),e}(),$=q.a.create({baseURL:Q.getBaseAPI()||"https://raw.githubusercontent.com/Predator7/react-weather/main/src/sample-api/weather.json"}),Z="FETCH_WEATHER_REQUEST",ee="FETCH_WEATHER_SUCCESS",te="FETCH_WEATHER_FAILURE",ne=function(e){return{latitude:e.lat,longitude:e.lon,timezoneOffset:1e3*e.timezone_offset}},ae=function(e){var t=re(e.weather);return{dt:1e3*e.dt,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,temp:e.temp.toFixed(0),feelsLike:e.feels_like.toFixed(0),pressure:e.pressure,humidity:e.humidity,dewPoint:e.dew_point.toFixed(0),uvi:e.uvi,clouds:e.clouds,visibility:e.visibility/1e3,windSpeed:e.wind_speed.toFixed(0),weather:t}},re=function(e){return e.map((function(e){return{id:e.id,main:e.main,description:e.description}}))},ie=function(e){return e.map((function(e){return{dt:1e3*e.dt,temp:e.temp.toFixed(0),windSpeed:e.wind_speed.toFixed(0),precipitation:+(100*e.pop).toFixed(0),weather:re(e.weather)}}))},ce=function(e){return e.map((function(e){return{dt:1e3*e.dt,precipitation:+(100*e.pop).toFixed(0),maxTemp:+e.temp.max.toFixed(0),minTemp:+e.temp.min.toFixed(0),windSpeed:+e.wind_speed.toFixed(0),uvi:e.uvi,clouds:e.clouds,pressure:e.pressure,sunrise:1e3*e.sunrise,sunset:1e3*e.sunset,weather:re(e.weather)}}))},se=function(e,t){return function(n){n({type:Z,loading:!0,error:"",weather:{}}),$.get("/"+Q.getApiDefaultParams(),{params:{lat:e,lon:t}}).then((function(e){var t,a;n((a=e.data,t={coordinates:ne(a),currentWeather:ae(a.current),hourlyWeather:ie(a.hourly),forecast:ce(a.daily)},{type:ee,loading:!1,error:"",weather:t}))})).catch((function(e){console.log(e.message),n({type:te,loading:!1,error:"Something went wrong fetching weather",weather:{}})}))}},oe=function(e){Object(D.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(L.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).setLocalization=function(t){var n=localStorage.getItem("localization");null!==n?e.props.changeLanguage(n):(localStorage.setItem("localization",t),e.props.changeLanguage(t))},e.onLoadWeather=function(){var t=Object(a.jsx)(J.a,{});return e.props.weather.currentWeather&&(t=Object(a.jsxs)("div",{children:[Object(a.jsx)(V,{temperature:e.props.weather.currentWeather.temp,feelsLike:e.props.weather.currentWeather.feelsLike,description:e.props.weather.currentWeather.weather[0].description,weatherIconId:e.props.weather.currentWeather.weather[0].id,day:Object(Y.a)(e.props.weather.currentWeather.dt,e.props.weather.currentWeather.sunrise,e.props.weather.currentWeather.sunset)}),Object(a.jsx)(X,{currentWeather:e.props.weather.currentWeather,precipitation:e.props.weather.hourlyWeather[0].precipitation})]})),t},e}return Object(U.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.weather.currentWeather||"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){var n,a,r=(n=t.coords.latitude,a=t.coords.longitude,n>43.38&&n<48.16&&a>20.16&&a<29.42?"romanian":"english");e.setLocalization(r),e.props.fetchWeather(t.coords.latitude,t.coords.longitude)}),(function(t){console.log(t.message),e.setLocalization("romanian"),e.props.fetchWeather(45.43,28.04)}))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.onLoadWeather()})}}]),n}(r.Component),le=Object(x.b)((function(e){return{weather:e.weatherReducer.weather,localization:e.localizationReducer.language}}),(function(e){return{fetchWeather:Object(_.b)(se,e),changeLanguage:Object(_.b)(A,e)}}))(oe),ue=i.a.lazy((function(){return n.e(4).then(n.bind(null,527))})),de=i.a.lazy((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,526))}));var je=Object(o.g)((function(){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(C,{}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(u,{}),children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{path:"/hourly",render:function(){return Object(a.jsx)(de,{})}}),Object(a.jsx)(o.b,{path:"/forecast",render:function(){return Object(a.jsx)(ue,{})}}),Object(a.jsx)(o.b,{path:"/",component:le}),Object(a.jsx)(o.a,{to:"/"})]})})]})})),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var be=n(91),pe=n(89),xe=n(90),Oe={loading:!1,error:"",weather:{}},fe=function(e){return{loading:!1,error:"",weather:e.weather}},me=function(e){return{loading:!1,error:e.error,weather:{}}},ve={language:N},we=function(e){return{language:e.language}},ye=(Object(xe.createLogger)(),[]);ye=[pe.a];var Ie=Object(_.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0,error:"",weather:{}};case ee:return fe(t);case te:return me(t);default:return e}},localizationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return we(t);default:return e}}}),Se=Object(_.d)(Ie,_.a.apply(void 0,Object(be.a)(ye)));s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(x.a,{store:Se,children:Object(a.jsx)(g.a,{basename:"/react-weather",children:Object(a.jsx)(je,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-weather",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-weather","/service-worker.js");he?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ge(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):ge(t,e)}))}}()},23:function(e,t,n){"use strict";var a=n(3),r=(n(1),n(57)),i=n(63),c=n(9),s=n(18),o=n(13);t.a=function(e){var t=Object(s.d)((function(e){return e.localizationReducer.language})),n=Object(a.jsx)(c.a,{size:42}),l="NA",u="NA";switch(e.itemType){case o.a.PRECIPITATION_CHANCE:n=Object(a.jsx)(c.L,{size:42,color:"#666"}),l=e.value+" %",u=t.language.get("detail-chance");break;case o.a.WIND:n=Object(a.jsx)(c.s,{size:42,color:"#becbd1"}),l=e.value+" km/h",u=t.language.get("detail-wind");break;case o.a.UV_INDEX:n=Object(a.jsx)(c.r,{size:42,color:"#cbad33"}),l=e.value,u=t.language.get("detail-uv");break;case o.a.CLOUD_COVER:n=Object(a.jsx)(c.c,{size:42,color:"#becbd1"}),l=e.value+" %",u=t.language.get("detail-cloud");break;case o.a.PRESSURE:n=Object(a.jsx)(c.b,{size:42,color:"#666"}),l=e.value+" mmHg",u=t.language.get("detail-pressure");break;case o.a.HUMIDITY:n=Object(a.jsx)(c.g,{size:42,color:"#86c3d6"}),l=e.value+" %",u=t.language.get("detail-humidity");break;case o.a.DEW_POINT:n=Object(a.jsx)(c.w,{size:42,color:"#86c3d6"}),l=e.value+" \xb0",u=t.language.get("detail-dew");break;case o.a.VISIBILITY:n=Object(a.jsx)(c.K,{size:42,color:"#999"}),l=e.value+" km",u=t.language.get("detail-visibility");break;case o.a.SUNRISE:n=Object(a.jsx)(c.t,{size:42,color:"#edcf53"}),l=e.value,u=t.language.get("detail-sunrise");break;case o.a.SUNSET:n=Object(a.jsx)(c.u,{size:42,color:"#edcf53"}),l=e.value,u=t.language.get("detail-sunset")}return Object(a.jsxs)(i.a,{container:!0,spacing:2,style:{marginTop:"1px"},children:[Object(a.jsx)(i.a,{item:!0,xs:4,children:Object(a.jsx)("div",{style:{textAlign:"right"},children:n})}),Object(a.jsx)(i.a,{item:!0,xs:8,children:Object(a.jsxs)("div",{style:{textAlign:"left"},children:[Object(a.jsx)(r.a,{variant:"subtitle2",className:"typography-primary",children:Object(a.jsx)("strong",{children:l})}),Object(a.jsx)(r.a,{variant:"body2",className:"typography-secondary",children:u})]})})]})}},24:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.ENGLISH=0]="ENGLISH",e[e.ROMANIAN=1]="ROMANIAN"}(a||(a={}))},38:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return o}));var a=function(e){var t=new Date(e);return t.getHours()+":"+t.getMinutes()},r=function(e,t){var n=t.weekArray,a=new Date(e);return n[a.getDay()]+" "+a.getDate()},i=function(e){return new Date(e).getHours()},c=function(e){return new Date(e).getHours()+":00"},s=function(e,t,n){return e>t&&e<n},o=function(e){return new Date(e).getDate()}},67:function(e,t,n){"use strict";var a=n(3),r=n(1),i=n.n(r),c=n(9);t.a=function(e){var t=Object(a.jsx)(c.a,{size:e.size,color:"#7d8b8e"});return e.iconId>=200&&e.iconId<300&&(t=e.day?Object(a.jsx)(c.x,{size:e.size,color:"#7d8b8e"}):Object(a.jsx)(c.n,{size:e.size,color:"#7d8b8e"})),e.iconId>=300&&e.iconId<400&&(t=e.day?Object(a.jsx)(c.p,{size:e.size,color:"#96a7af"}):Object(a.jsx)(c.l,{size:e.size,color:"#96a7af"})),e.iconId>=500&&e.iconId<600&&(t=e.day?Object(a.jsx)(c.o,{size:e.size,color:"#83c2d3"}):Object(a.jsx)(c.k,{size:e.size,color:"#83c2d3"})),e.iconId>=600&&e.iconId<700&&(t=e.day?Object(a.jsx)(c.q,{size:e.size,color:"#97becf"}):Object(a.jsx)(c.m,{size:e.size,color:"#97becf"})),e.iconId>=700&&e.iconId<800&&(t=e.day?Object(a.jsx)(c.f,{size:e.size,color:"#becbd1"}):Object(a.jsx)(c.j,{size:e.size,color:"#becbd1"})),800===e.iconId&&(t=e.day?Object(a.jsx)(c.e,{size:e.size,color:"#edcf53"}):Object(a.jsx)(c.h,{size:e.size,color:"#becbd1"})),e.iconId>800&&e.iconId<900&&(t=e.day?Object(a.jsx)(c.d,{size:e.size,color:"#becbd1"}):Object(a.jsx)(c.i,{size:e.size,color:"#becbd1"})),Object(a.jsx)(i.a.Fragment,{children:t})}},68:function(e,t,n){"use strict";var a=n(3),r=(n(1),n(142)),i=n(57),c=n(18);t.a=function(){var e=Object(c.d)((function(e){return e.localizationReducer.language}));return Object(a.jsxs)("div",{style:{margin:"50px 0"},children:[Object(a.jsx)(r.a,{}),Object(a.jsx)(i.a,{variant:"subtitle1",children:e.language.get("loading")})]})}}},[[141,1,3]]]);
//# sourceMappingURL=main.3bbe1dd4.chunk.js.map